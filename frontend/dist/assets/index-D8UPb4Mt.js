import{j as c,c as Zs,Q as ei,a as ti}from"./state-3x_LIAbJ.js";import{r as p,a as mo,b as ri,c as ni,R as Z,B as oi,d as si,e as Fr}from"./router-sXP0cy3I.js";import{a as ii,g as vo}from"./vendor-DgTrhVr3.js";import{c as ai,a as go,X as ci,C as li}from"./ui-AszsH9pe.js";import{C as ui}from"./websocket-ChVyU63F.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var Ae={},Ur;function di(){if(Ur)return Ae;Ur=1;var e=ii();return Ae.createRoot=e.createRoot,Ae.hydrateRoot=e.hydrateRoot,Ae}var fi=di();const hi=vo(fi),pi=()=>c.jsx("div",{id:"toaster",className:"fixed top-4 left-4 z-50"}),mi=({piece:e,position:t,isSelected:r,isHighlighted:n,isLastMove:o,isAIMove:s,isCheck:i,isInvalidMove:a,onClick:u})=>{const[d,l]=t,f=(d+l)%2===0,g=()=>{let C="chess-square ";return f?C+="light ":C+="dark ",r&&(C+="selected "),n&&(C+="highlight "),o&&(C+="last-move "),s&&(C+="ai-move "),i&&(C+="check "),a&&(C+="invalid-move "),C.trim()},y=C=>!C||!C.color||!C.type?"?":{white:{king:"♔",queen:"♕",rook:"♖",bishop:"♗",knight:"♘",pawn:"♙"},black:{king:"♚︎",queen:"♛︎",rook:"♜︎",bishop:"♝︎",knight:"♞︎",pawn:"♟︎"}}[C.color]?.[C.type]||"?";return c.jsx("div",{className:g(),onClick:u,role:"gridcell","aria-label":`${f?"Light":"Dark"} square ${String.fromCharCode(97+l)}${8-d}${e?` with ${e}`:""}`,tabIndex:0,children:e?c.jsx("span",{className:"chess-piece",children:y(e)}):null})},He={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},br=new Map,Me=e=>{const t=br.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},vi=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=br.get(r.name);if(n)return{type:"tracked",store:e,...n};const o={connection:t.connect(r),stores:{}};return br.set(r.name,o),{type:"tracked",store:e,...o}},gi=(e,t={})=>(r,n,o)=>{const{enabled:s,anonymousActionType:i,store:a,...u}=t;let d;try{d=(s??(He?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(He?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,n,o);const{connection:l,...f}=vi(a,d,u);let g=!0;o.setState=(v,m,x)=>{const h=r(v,m);if(!g)return h;const w=x===void 0?{type:i||"anonymous"}:typeof x=="string"?{type:x}:x;return a===void 0?(l?.send(w,n()),h):(l?.send({...w,type:`${a}/${w.type}`},{...Me(u.name),[a]:o.getState()}),h)};const y=(...v)=>{const m=g;g=!1,r(...v),g=m},C=e(o.setState,n,o);if(f.type==="untracked"?l?.init(C):(f.stores[f.store]=o,l?.init(Object.fromEntries(Object.entries(f.stores).map(([v,m])=>[v,v===f.store?C:m.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let v=!1;const m=o.dispatch;o.dispatch=(...x)=>{(He?"production":void 0)!=="production"&&x[0].type==="__setState"&&!v&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),v=!0),m(...x)}}return l.subscribe(v=>{var m;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return ct(v.payload,x=>{if(x.type==="__setState"){if(a===void 0){y(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const h=x.state[a];if(h==null)return;JSON.stringify(o.getState())!==JSON.stringify(h)&&y(h);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(x)});case"DISPATCH":switch(v.payload.type){case"RESET":return y(C),a===void 0?l?.init(o.getState()):l?.init(Me(u.name));case"COMMIT":if(a===void 0){l?.init(o.getState());return}return l?.init(Me(u.name));case"ROLLBACK":return ct(v.state,x=>{if(a===void 0){y(x),l?.init(o.getState());return}y(x[a]),l?.init(Me(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ct(v.state,x=>{if(a===void 0){y(x);return}JSON.stringify(o.getState())!==JSON.stringify(x[a])&&y(x[a])});case"IMPORT_STATE":{const{nextLiftedState:x}=v.payload,h=(m=x.computedStates.slice(-1)[0])==null?void 0:m.state;if(!h)return;y(a===void 0?h:h[a]),l?.send(null,x);return}case"PAUSE_RECORDING":return g=!g}return}}),C},bi=gi,ct=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)};function yi(e,t){let r;try{r=e()}catch{return}return{getItem:o=>{var s;const i=u=>u===null?null:JSON.parse(u,void 0),a=(s=r.getItem(o))!=null?s:null;return a instanceof Promise?a.then(i):i(a)},setItem:(o,s)=>r.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>r.removeItem(o)}}const Ce=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ce(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ce(n)(r)}}}},xi=(e,t)=>(r,n,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},i=!1;const a=new Set,u=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...m)},n,o);const l=Ce(s.serialize),f=()=>{const m=s.partialize({...n()});let x;const h=l({state:m,version:s.version}).then(w=>d.setItem(s.name,w)).catch(w=>{x=w});if(x)throw x;return h},g=o.setState;o.setState=(m,x)=>{g(m,x),f()};const y=e((...m)=>{r(...m),f()},n,o);let C;const v=()=>{var m;if(!d)return;i=!1,a.forEach(h=>h(n()));const x=((m=s.onRehydrateStorage)==null?void 0:m.call(s,n()))||void 0;return Ce(d.getItem.bind(d))(s.name).then(h=>{if(h)return s.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==s.version){if(s.migrate)return s.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var w;return C=s.merge(h,(w=n())!=null?w:y),r(C,!0),f()}).then(()=>{x?.(C,void 0),i=!0,u.forEach(h=>h(C))}).catch(h=>{x?.(void 0,h)})};return o.persist={setOptions:m=>{s={...s,...m},m.getStorage&&(d=m.getStorage())},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(u.add(m),()=>{u.delete(m)})},v(),C||y},wi=(e,t)=>(r,n,o)=>{let s={storage:yi(()=>localStorage),partialize:v=>v,version:0,merge:(v,m)=>({...m,...v}),...t},i=!1;const a=new Set,u=new Set;let d=s.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,o);const l=()=>{const v=s.partialize({...n()});return d.setItem(s.name,{state:v,version:s.version})},f=o.setState;o.setState=(v,m)=>{f(v,m),l()};const g=e((...v)=>{r(...v),l()},n,o);o.getInitialState=()=>g;let y;const C=()=>{var v,m;if(!d)return;i=!1,a.forEach(h=>{var w;return h((w=n())!=null?w:g)});const x=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(v=n())!=null?v:g))||void 0;return Ce(d.getItem.bind(d))(s.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==s.version){if(s.migrate)return[!0,s.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var w;const[b,E]=h;if(y=s.merge(E,(w=n())!=null?w:g),r(y,!0),b)return l()}).then(()=>{x?.(y,void 0),y=n(),i=!0,u.forEach(h=>h(y))}).catch(h=>{x?.(void 0,h)})};return o.persist={setOptions:v=>{s={...s,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>C(),hasHydrated:()=>i,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},s.skipHydration||C(),y||g},Si=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((He?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),xi(e,t)):wi(e,t),Ei=Si;Array(8).fill(null).map(()=>Array(8).fill(null));const ie=Zs()(bi(Ei(e=>({backendGameState:null,uiState:{selectedSquare:void 0,availableMoves:[]},aiSystems:{AlphaZero:{name:"AlphaZero",enabled:!0,training:!1,progress:0,status:"idle"},LeelaChessZero:{name:"LeelaChessZero",enabled:!0,training:!1,progress:0,status:"idle"},MCTS:{name:"MCTS",enabled:!0,training:!1,progress:0,status:"idle"},Negamax:{name:"Negamax",enabled:!0,training:!1,progress:0,status:"idle"},OpenAI:{name:"OpenAI",enabled:!0,training:!1,progress:0,status:"idle"},QLearning:{name:"QLearning",enabled:!0,training:!1,progress:0,status:"idle"},DeepLearning:{name:"DeepLearning",enabled:!0,training:!1,progress:0,status:"idle"},CNN:{name:"CNN",enabled:!0,training:!1,progress:0,status:"idle"},DQN:{name:"DQN",enabled:!0,training:!1,progress:0,status:"idle"},Genetic:{name:"Genetic",enabled:!0,training:!1,progress:0,status:"idle"},AlphaFold3:{name:"AlphaFold3",enabled:!0,training:!1,progress:0,status:"idle"},A3C:{name:"A3C",enabled:!0,training:!1,progress:0,status:"idle"}},trainingStatus:{active:!1,progress:{},quality:{},startTime:void 0,totalGames:0,completedGames:0},mcpStatus:{enabled:!1,connected:!1,activeAgents:0,totalSessions:0},userPreferences:{theme:"system",soundEnabled:!0,animationsEnabled:!0,language:"en",chessNotation:"algebraic",pieceStyle:"unicode",accessibilityMode:!1,reducedMotion:!1,highContrast:!1},isConnected:!1,connectionError:void 0,actions:{makeMove:(t,r)=>{e(n=>({uiState:{...n.uiState,selectedSquare:void 0,availableMoves:[]}}))},selectSquare:t=>{e(r=>({uiState:{...r.uiState,selectedSquare:t||void 0,availableMoves:[]}}))},startTraining:t=>{e(r=>{const n={...r.aiSystems};return t.forEach(o=>{n[o]&&(n[o]={...n[o],training:!0,status:"training"})}),{aiSystems:n,trainingStatus:{...r.trainingStatus,active:!0,startTime:Date.now()}}})},stopTraining:()=>{e(t=>{const r={...t.aiSystems};return Object.keys(r).forEach(n=>{r[n]={...r[n],training:!1,status:"idle"}}),{aiSystems:r,trainingStatus:{...t.trainingStatus,active:!1}}})},selectAI:t=>{},updatePreferences:t=>{e(r=>({userPreferences:{...r.userPreferences,...t}}))},resetGame:()=>{e(t=>({uiState:{...t.uiState,selectedSquare:void 0,availableMoves:[]}}))},setConnectionStatus:(t,r)=>{e(()=>({isConnected:t,connectionError:r}))},updateAISystem:(t,r)=>{e(n=>({aiSystems:{...n.aiSystems,[t]:{...n.aiSystems[t],...r}}}))},updateTrainingStatus:t=>{e(r=>({trainingStatus:{...r.trainingStatus,...t}}))},updateMCPStatus:t=>{e(r=>({mcpStatus:{...r.mcpStatus,...t}}))},updateBackendGameState:t=>{e(r=>({backendGameState:r.backendGameState?{...r.backendGameState,...t}:t}))},updateUIState:t=>{e(r=>({uiState:{...r.uiState,...t}}))}}}),{name:"chess-app-storage",partialize:e=>({userPreferences:e.userPreferences})}),{name:"chess-store"})),Ci=({onPawnPromotion:e})=>{const{backendGameState:t,uiState:r,actions:n,isConnected:o}=ie(),[s,i]=p.useState(null);p.useEffect(()=>{if(t?.aiMove){i(t.aiMove.to);const u=setTimeout(()=>{i(null)},2e3);return()=>clearTimeout(u)}},[t?.aiMove]),p.useEffect(()=>{if(t?.invalidMove){const u=setTimeout(()=>{n.updateBackendGameState({invalidMove:void 0})},1e3);return()=>clearTimeout(u)}},[t?.invalidMove,n]);const a=(u,d)=>{if(r.selectedSquare)n.makeMove(r.selectedSquare,[u,d]),n.selectSquare(void 0);else{const l=t?.board[u][d];l&&l.color===t?.currentPlayer&&n.selectSquare([u,d])}};return!t?.board||t.board.length===0?c.jsx("div",{className:"chess-board w-[400px] h-[400px] sm:w-[450px] sm:h-[450px] lg:w-[500px] lg:h-[500px] max-h-[50vh] mx-auto flex items-center justify-center flex-shrink-0",style:{minWidth:"400px"},children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-lg font-semibold text-blue-600",children:"Loading Chess Board"}),c.jsx("p",{className:"text-sm text-gray-600",children:o?"Waiting for game state...":"Connecting to server..."})]})}):(r.availableMoves,t?.checkSquares,c.jsx("div",{className:"chess-board w-[400px] h-[400px] sm:w-[450px] sm:h-[450px] lg:w-[500px] lg:h-[500px] max-h-[50vh] mx-auto flex-shrink-0",style:{minWidth:"400px"},children:t.board.map((u,d)=>u.map((l,f)=>{const g=r.selectedSquare&&r.selectedSquare[0]===d&&r.selectedSquare[1]===f,y=r.availableMoves?.some(h=>h[0]===d&&h[1]===f)||!1,C=!1,v=s&&s[0]===d&&s[1]===f,m=t?.checkSquares?.some(h=>h[0]===d&&h[1]===f)||!1,x=t?.invalidMove&&t.invalidMove[0]===d&&t.invalidMove[1]===f;return c.jsx(mi,{piece:l,position:[d,f],isSelected:g,isHighlighted:y,isLastMove:C,isAIMove:v||!1,isCheck:m,isInvalidMove:x||!1,onClick:()=>a(d,f)},`${d}-${f}`)}))}))};function Gr(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bo(...e){return t=>{let r=!1;const n=e.map(o=>{const s=Gr(o,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Gr(e[o],null)}}}}function W(...e){return p.useCallback(bo(...e),e)}function Ne(e){const t=ji(e),r=p.forwardRef((n,o)=>{const{children:s,...i}=n,a=p.Children.toArray(s),u=a.find(Ri);if(u){const d=u.props.children,l=a.map(f=>f===u?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return c.jsx(t,{...i,ref:o,children:p.isValidElement(d)?p.cloneElement(d,void 0,l):null})}return c.jsx(t,{...i,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}var Ni=Ne("Slot");function ji(e){const t=p.forwardRef((r,n)=>{const{children:o,...s}=r;if(p.isValidElement(o)){const i=Ii(o),a=ki(s,o.props);return o.type!==p.Fragment&&(a.ref=n?bo(n,i):i),p.cloneElement(o,a)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ti=Symbol("radix.slottable");function Ri(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ti}function ki(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...a)=>{const u=s(...a);return o(...a),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function Ii(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Nr="-",_i=e=>{const t=Oi(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(Nr);return a[0]===""&&a.length!==1&&a.shift(),yo(a,t)||Pi(i)},getConflictingClassGroupIds:(i,a)=>{const u=r[i]||[];return a&&n[i]?[...u,...n[i]]:u}}},yo=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?yo(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Nr);return t.validators.find(({validator:i})=>i(s))?.classGroupId},Br=/^\[(.+)\]$/,Pi=e=>{if(Br.test(e)){const t=Br.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Oi=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Mi(Object.entries(e.classGroups),r).forEach(([s,i])=>{yr(i,n,s,t)}),n},yr=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Wr(t,o);s.classGroupId=r;return}if(typeof o=="function"){if(Ai(o)){yr(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([s,i])=>{yr(i,Wr(t,s),r,n)})})},Wr=(e,t)=>{let r=e;return t.split(Nr).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ai=e=>e.isThemeGetter,Mi=(e,t)=>t?e.map(([r,n])=>{const o=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[r,o]}):e,Di=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return o(s,i),i},set(s,i){r.has(s)?r.set(s,i):o(s,i)}}},xo="!",Li=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],s=t.length,i=a=>{const u=[];let d=0,l=0,f;for(let m=0;m<a.length;m++){let x=a[m];if(d===0){if(x===o&&(n||a.slice(m,m+s)===t)){u.push(a.slice(l,m)),l=m+s;continue}if(x==="/"){f=m;continue}}x==="["?d++:x==="]"&&d--}const g=u.length===0?a:a.substring(l),y=g.startsWith(xo),C=y?g.substring(1):g,v=f&&f>l?f-l:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:C,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:i}):i},qi=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Fi=e=>({cache:Di(e.cacheSize),parseClassName:Li(e),..._i(e)}),Ui=/\s+/,Gi=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(Ui);let a="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=r(d);let C=!!y,v=n(C?g.substring(0,y):g);if(!v){if(!C){a=d+(a.length>0?" "+a:a);continue}if(v=n(g),!v){a=d+(a.length>0?" "+a:a);continue}C=!1}const m=qi(l).join(":"),x=f?m+xo:m,h=x+v;if(s.includes(h))continue;s.push(h);const w=o(v,C);for(let b=0;b<w.length;++b){const E=w[b];s.push(x+E)}a=d+(a.length>0?" "+a:a)}return a};function Bi(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wo(t))&&(n&&(n+=" "),n+=r);return n}const wo=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wo(e[n]))&&(r&&(r+=" "),r+=t);return r};function Wi(e,...t){let r,n,o,s=i;function i(u){const d=t.reduce((l,f)=>f(l),e());return r=Fi(d),n=r.cache.get,o=r.cache.set,s=a,a(u)}function a(u){const d=n(u);if(d)return d;const l=Gi(u,r);return o(u,l),l}return function(){return s(Bi.apply(null,arguments))}}const L=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},So=/^\[(?:([a-z-]+):)?(.+)\]$/i,zi=/^\d+\/\d+$/,$i=new Set(["px","full","screen"]),Hi=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ji=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ki=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,V=e=>ue(e)||$i.has(e)||zi.test(e),Q=e=>pe(e,"length",oa),ue=e=>!!e&&!Number.isNaN(Number(e)),lt=e=>pe(e,"number",ue),we=e=>!!e&&Number.isInteger(Number(e)),Qi=e=>e.endsWith("%")&&ue(e.slice(0,-1)),O=e=>So.test(e),Y=e=>Hi.test(e),Yi=new Set(["length","size","percentage"]),Zi=e=>pe(e,Yi,Eo),ea=e=>pe(e,"position",Eo),ta=new Set(["image","url"]),ra=e=>pe(e,ta,ia),na=e=>pe(e,"",sa),Se=()=>!0,pe=(e,t,r)=>{const n=So.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},oa=e=>Xi.test(e)&&!Ji.test(e),Eo=()=>!1,sa=e=>Vi.test(e),ia=e=>Ki.test(e),aa=()=>{const e=L("colors"),t=L("spacing"),r=L("blur"),n=L("brightness"),o=L("borderColor"),s=L("borderRadius"),i=L("borderSpacing"),a=L("borderWidth"),u=L("contrast"),d=L("grayscale"),l=L("hueRotate"),f=L("invert"),g=L("gap"),y=L("gradientColorStops"),C=L("gradientColorStopPositions"),v=L("inset"),m=L("margin"),x=L("opacity"),h=L("padding"),w=L("saturate"),b=L("scale"),E=L("sepia"),k=L("skew"),N=L("space"),S=L("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",O,t],T=()=>[O,t],j=()=>["",V,Q],D=()=>["auto",ue,O],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],xe=()=>["","0",O],qr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ue,O];return{cacheSize:500,separator:":",theme:{colors:[Se],spacing:[V,Q],blur:["none","",Y,O],brightness:J(),borderColor:[e],borderRadius:["none","","full",Y,O],borderSpacing:T(),borderWidth:j(),contrast:J(),grayscale:xe(),hueRotate:J(),invert:xe(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Qi,Q],inset:P(),margin:P(),opacity:J(),padding:T(),saturate:J(),scale:J(),sepia:xe(),skew:J(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",O]}],container:["container"],columns:[{columns:[Y]}],"break-after":[{"break-after":qr()}],"break-before":[{"break-before":qr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),O]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",we,O]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",O]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",we,O]}],"grid-cols":[{"grid-cols":[Se]}],"col-start-end":[{col:["auto",{span:["full",we,O]},O]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Se]}],"row-start-end":[{row:["auto",{span:[we,O]},O]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",O]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",O]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",O,t]}],"min-w":[{"min-w":[O,t,"min","max","fit"]}],"max-w":[{"max-w":[O,t,"none","full","min","max","fit","prose",{screen:[Y]},Y]}],h:[{h:[O,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[O,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Y,Q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lt]}],"font-family":[{font:[Se]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",O]}],"line-clamp":[{"line-clamp":["none",ue,lt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",V,O]}],"list-image":[{"list-image":["none",O]}],"list-style-type":[{list:["none","disc","decimal",O]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",V,Q]}],"underline-offset":[{"underline-offset":["auto",V,O]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),ea]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ra]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[V,O]}],"outline-w":[{outline:[V,Q]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[V,Q]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Y,na]}],"shadow-color":[{shadow:[Se]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Y,O]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",O]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",O]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",O]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[we,O]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",O]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[V,Q,lt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ca=Wi(aa);function F(...e){return ca(ai(e))}const la=go("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},s)=>{const i=n?Ni:"button";return c.jsx(i,{className:F(la({variant:t,size:r,className:e})),ref:s,...o})});q.displayName="Button";const te=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:F("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const Ze=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:F("flex flex-col space-y-1.5 p-6",e),...t}));Ze.displayName="CardHeader";const et=p.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:F("text-2xl font-semibold leading-none tracking-tight",e),...t}));et.displayName="CardTitle";const ua=p.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:F("text-sm text-muted-foreground",e),...t}));ua.displayName="CardDescription";const re=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:F("p-6 pt-0",e),...t}));re.displayName="CardContent";const da=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:F("flex items-center p-6 pt-0",e),...t}));da.displayName="CardFooter";function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function fa(e,t){const r=p.createContext(t),n=s=>{const{children:i,...a}=s,u=p.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:u,children:i})};n.displayName=e+"Provider";function o(s){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function me(e,t=[]){let r=[];function n(s,i){const a=p.createContext(i),u=r.length;r=[...r,i];const d=f=>{const{scope:g,children:y,...C}=f,v=g?.[e]?.[u]||a,m=p.useMemo(()=>C,Object.values(C));return c.jsx(v.Provider,{value:m,children:y})};d.displayName=s+"Provider";function l(f,g){const y=g?.[e]?.[u]||a,C=p.useContext(y);if(C)return C;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,l]}const o=()=>{const s=r.map(i=>p.createContext(i));return function(a){const u=a?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return o.scopeName=e,[n,ha(o,...t)]}function ha(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=n.reduce((a,{useScope:u,scopeName:d})=>{const f=u(s)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var fe=globalThis?.document?p.useLayoutEffect:()=>{},pa=mo[" useId ".trim().toString()]||(()=>{}),ma=0;function Ee(e){const[t,r]=p.useState(pa());return fe(()=>{r(n=>n??String(ma++))},[e]),t?`radix-${t}`:""}var va=mo[" useInsertionEffect ".trim().toString()]||fe;function tt({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,s,i]=ga({defaultProp:t,onChange:r}),a=e!==void 0,u=a?e:o;{const l=p.useRef(e!==void 0);p.useEffect(()=>{const f=l.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=a},[a,n])}const d=p.useCallback(l=>{if(a){const f=ba(l)?l(e):l;f!==e&&i.current?.(f)}else s(l)},[a,e,s,i]);return[u,d]}function ga({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),o=p.useRef(r),s=p.useRef(t);return va(()=>{s.current=t},[t]),p.useEffect(()=>{o.current!==r&&(s.current?.(r),o.current=r)},[r,o]),[r,n,s]}function ba(e){return typeof e=="function"}var ya=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=ya.reduce((e,t)=>{const r=Ne(`Primitive.${t}`),n=p.forwardRef((o,s)=>{const{asChild:i,...a}=o,u=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xa(e,t){e&&ri.flushSync(()=>e.dispatchEvent(t))}function he(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function wa(e,t=globalThis?.document){const r=he(e);p.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Sa="DismissableLayer",xr="dismissableLayer.update",Ea="dismissableLayer.pointerDownOutside",Ca="dismissableLayer.focusOutside",zr,Co=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),No=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...u}=e,d=p.useContext(Co),[l,f]=p.useState(null),g=l?.ownerDocument??globalThis?.document,[,y]=p.useState({}),C=W(t,N=>f(N)),v=Array.from(d.layers),[m]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(m),h=l?v.indexOf(l):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=h>=x,E=Ta(N=>{const S=N.target,R=[...d.branches].some(I=>I.contains(S));!b||R||(o?.(N),i?.(N),N.defaultPrevented||a?.())},g),k=Ra(N=>{const S=N.target;[...d.branches].some(I=>I.contains(S))||(s?.(N),i?.(N),N.defaultPrevented||a?.())},g);return wa(N=>{h===d.layers.size-1&&(n?.(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},g),p.useEffect(()=>{if(l)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zr=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(l)),d.layers.add(l),$r(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=zr)}},[l,g,r,d]),p.useEffect(()=>()=>{l&&(d.layers.delete(l),d.layersWithOutsidePointerEventsDisabled.delete(l),$r())},[l,d]),p.useEffect(()=>{const N=()=>y({});return document.addEventListener(xr,N),()=>document.removeEventListener(xr,N)},[]),c.jsx(U.div,{...u,ref:C,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,k.onFocusCapture),onBlurCapture:G(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,E.onPointerDownCapture)})});No.displayName=Sa;var Na="DismissableLayerBranch",ja=p.forwardRef((e,t)=>{const r=p.useContext(Co),n=p.useRef(null),o=W(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),c.jsx(U.div,{...e,ref:o})});ja.displayName=Na;function Ta(e,t=globalThis?.document){const r=he(e),n=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let u=function(){jo(Ea,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ra(e,t=globalThis?.document){const r=he(e),n=p.useRef(!1);return p.useEffect(()=>{const o=s=>{s.target&&!n.current&&jo(Ca,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $r(){const e=new CustomEvent(xr);document.dispatchEvent(e)}function jo(e,t,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?xa(o,s):o.dispatchEvent(s)}var ut="focusScope.autoFocusOnMount",dt="focusScope.autoFocusOnUnmount",Hr={bubbles:!1,cancelable:!0},ka="FocusScope",To=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,u]=p.useState(null),d=he(o),l=he(s),f=p.useRef(null),g=W(t,v=>u(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let v=function(w){if(y.paused||!a)return;const b=w.target;a.contains(b)?f.current=b:ee(f.current,{select:!0})},m=function(w){if(y.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||ee(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&ee(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const h=new MutationObserver(x);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),h.disconnect()}}},[n,a,y.paused]),p.useEffect(()=>{if(a){Jr.add(y);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(ut,Hr);a.addEventListener(ut,d),a.dispatchEvent(x),x.defaultPrevented||(Ia(Ma(Ro(a)),{select:!0}),document.activeElement===v&&ee(a))}return()=>{a.removeEventListener(ut,d),setTimeout(()=>{const x=new CustomEvent(dt,Hr);a.addEventListener(dt,l),a.dispatchEvent(x),x.defaultPrevented||ee(v??document.body,{select:!0}),a.removeEventListener(dt,l),Jr.remove(y)},0)}}},[a,d,l,y]);const C=p.useCallback(v=>{if(!r&&!n||y.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(m&&x){const h=v.currentTarget,[w,b]=_a(h);w&&b?!v.shiftKey&&x===b?(v.preventDefault(),r&&ee(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),r&&ee(b,{select:!0})):x===h&&v.preventDefault()}},[r,n,y.paused]);return c.jsx(U.div,{tabIndex:-1,...i,ref:g,onKeyDown:C})});To.displayName=ka;function Ia(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ee(n,{select:t}),document.activeElement!==r)return}function _a(e){const t=Ro(e),r=Xr(t,e),n=Xr(t.reverse(),e);return[r,n]}function Ro(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xr(e,t){for(const r of e)if(!Pa(r,{upTo:t}))return r}function Pa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oa(e){return e instanceof HTMLInputElement&&"select"in e}function ee(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Oa(e)&&t&&e.select()}}var Jr=Aa();function Aa(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Vr(e,t),e.unshift(t)},remove(t){e=Vr(e,t),e[0]?.resume()}}}function Vr(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ma(e){return e.filter(t=>t.tagName!=="A")}var Da="Portal",ko=p.forwardRef((e,t)=>{const{container:r,...n}=e,[o,s]=p.useState(!1);fe(()=>s(!0),[]);const i=r||o&&globalThis?.document?.body;return i?ni.createPortal(c.jsx(U.div,{...n,ref:t}),i):null});ko.displayName=Da;function La(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ve=e=>{const{present:t,children:r}=e,n=qa(t),o=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=W(n.ref,Fa(o));return typeof r=="function"||n.isPresent?p.cloneElement(o,{ref:s}):null};ve.displayName="Presence";function qa(e){const[t,r]=p.useState(),n=p.useRef(null),o=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[a,u]=La(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=De(n.current);s.current=a==="mounted"?d:"none"},[a]),fe(()=>{const d=n.current,l=o.current;if(l!==e){const g=s.current,y=De(d);e?u("MOUNT"):y==="none"||d?.display==="none"?u("UNMOUNT"):u(l&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),fe(()=>{if(t){let d;const l=t.ownerDocument.defaultView??window,f=y=>{const v=De(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(u("ANIMATION_END"),!o.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",d=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},g=y=>{y.target===t&&(s.current=De(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function De(e){return e?.animationName||"none"}function Fa(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ft=0;function Ua(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kr()),document.body.insertAdjacentElement("beforeend",e[1]??Kr()),ft++,()=>{ft===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ft--}},[])}function Kr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var H=function(){return H=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},H.apply(this,arguments)};function Io(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Ga(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Xe="right-scroll-bar-position",Je="width-before-scroll-bar",Ba="with-scroll-bars-hidden",Wa="--removed-body-scroll-bar-size";function ht(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function za(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var $a=typeof window<"u"?p.useLayoutEffect:p.useEffect,Qr=new WeakMap;function Ha(e,t){var r=za(null,function(n){return e.forEach(function(o){return ht(o,n)})});return $a(function(){var n=Qr.get(r);if(n){var o=new Set(n),s=new Set(e),i=r.current;o.forEach(function(a){s.has(a)||ht(a,null)}),s.forEach(function(a){o.has(a)||ht(a,i)})}Qr.set(r,e)},[e]),r}function Xa(e){return e}function Ja(e,t){t===void 0&&(t=Xa);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(s),i=r}var u=function(){var l=i;i=[],l.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(l){i.push(l),d()},filter:function(l){return i=i.filter(l),r}}}};return o}function Va(e){e===void 0&&(e={});var t=Ja(null);return t.options=H({async:!0,ssr:!1},e),t}var _o=function(e){var t=e.sideCar,r=Io(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,H({},r))};_o.isSideCarExport=!0;function Ka(e,t){return e.useMedium(t),_o}var Po=Va(),pt=function(){},rt=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:pt,onWheelCapture:pt,onTouchMoveCapture:pt}),o=n[0],s=n[1],i=e.forwardProps,a=e.children,u=e.className,d=e.removeScrollBar,l=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,C=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,h=x===void 0?"div":x,w=e.gapMode,b=Io(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,k=Ha([r,t]),N=H(H({},b),o);return p.createElement(p.Fragment,null,l&&p.createElement(E,{sideCar:Po,removeScrollBar:d,shards:f,noRelative:y,noIsolation:C,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),i?p.cloneElement(p.Children.only(a),H(H({},N),{ref:k})):p.createElement(h,H({},N,{className:u,ref:k}),a))});rt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rt.classNames={fullWidth:Je,zeroRight:Xe};var Qa=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ya(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qa();return t&&e.setAttribute("nonce",t),e}function Za(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ec(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tc=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ya())&&(Za(t,r),ec(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rc=function(){var e=tc();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Oo=function(){var e=rc(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},nc={left:0,top:0,right:0,gap:0},mt=function(e){return parseInt(e||"",10)||0},oc=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[mt(r),mt(n),mt(o)]},sc=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nc;var t=oc(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ic=Oo(),de="data-scroll-locked",ac=function(e,t,r,n){var o=e.left,s=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ba,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(de,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xe,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Je,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Xe," .").concat(Xe,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Je," .").concat(Je,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(de,`] {
    `).concat(Wa,": ").concat(a,`px;
  }
`)},Yr=function(){var e=parseInt(document.body.getAttribute(de)||"0",10);return isFinite(e)?e:0},cc=function(){p.useEffect(function(){return document.body.setAttribute(de,(Yr()+1).toString()),function(){var e=Yr()-1;e<=0?document.body.removeAttribute(de):document.body.setAttribute(de,e.toString())}},[])},lc=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;cc();var s=p.useMemo(function(){return sc(o)},[o]);return p.createElement(ic,{styles:ac(s,!t,o,r?"":"!important")})},wr=!1;if(typeof window<"u")try{var Le=Object.defineProperty({},"passive",{get:function(){return wr=!0,!0}});window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch{wr=!1}var ae=wr?{passive:!1}:!1,uc=function(e){return e.tagName==="TEXTAREA"},Ao=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uc(e)&&r[t]==="visible")},dc=function(e){return Ao(e,"overflowY")},fc=function(e){return Ao(e,"overflowX")},Zr=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Mo(e,n);if(o){var s=Do(e,n),i=s[1],a=s[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hc=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},pc=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Mo=function(e,t){return e==="v"?dc(t):fc(t)},Do=function(e,t){return e==="v"?hc(t):pc(t)},mc=function(e,t){return e==="h"&&t==="rtl"?-1:1},vc=function(e,t,r,n,o){var s=mc(e,window.getComputedStyle(t).direction),i=s*n,a=r.target,u=t.contains(a),d=!1,l=i>0,f=0,g=0;do{if(!a)break;var y=Do(e,a),C=y[0],v=y[1],m=y[2],x=v-m-s*C;(C||x)&&Mo(e,a)&&(f+=x,g+=C);var h=a.parentNode;a=h&&h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?h.host:h}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(l&&Math.abs(f)<1||!l&&Math.abs(g)<1)&&(d=!0),d},qe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},en=function(e){return[e.deltaX,e.deltaY]},tn=function(e){return e&&"current"in e?e.current:e},gc=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yc=0,ce=[];function xc(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),o=p.useState(yc++)[0],s=p.useState(Oo)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=Ga([e.lockRef.current],(e.shards||[]).map(tn),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,m){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=qe(v),h=r.current,w="deltaX"in v?v.deltaX:h[0]-x[0],b="deltaY"in v?v.deltaY:h[1]-x[1],E,k=v.target,N=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&N==="h"&&k.type==="range")return!1;var S=Zr(N,k);if(!S)return!0;if(S?E=N:(E=N==="v"?"h":"v",S=Zr(N,k)),!S)return!1;if(!n.current&&"changedTouches"in v&&(w||b)&&(n.current=E),!E)return!0;var R=n.current||E;return vc(R,m,v,R==="h"?w:b)},[]),u=p.useCallback(function(v){var m=v;if(!(!ce.length||ce[ce.length-1]!==s)){var x="deltaY"in m?en(m):qe(m),h=t.current.filter(function(E){return E.name===m.type&&(E.target===m.target||m.target===E.shadowParent)&&gc(E.delta,x)})[0];if(h&&h.should){m.cancelable&&m.preventDefault();return}if(!h){var w=(i.current.shards||[]).map(tn).filter(Boolean).filter(function(E){return E.contains(m.target)}),b=w.length>0?a(m,w[0]):!i.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),d=p.useCallback(function(v,m,x,h){var w={name:v,delta:m,target:x,should:h,shadowParent:wc(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),l=p.useCallback(function(v){r.current=qe(v),n.current=void 0},[]),f=p.useCallback(function(v){d(v.type,en(v),v.target,a(v,e.lockRef.current))},[]),g=p.useCallback(function(v){d(v.type,qe(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return ce.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,ae),document.addEventListener("touchmove",u,ae),document.addEventListener("touchstart",l,ae),function(){ce=ce.filter(function(v){return v!==s}),document.removeEventListener("wheel",u,ae),document.removeEventListener("touchmove",u,ae),document.removeEventListener("touchstart",l,ae)}},[]);var y=e.removeScrollBar,C=e.inert;return p.createElement(p.Fragment,null,C?p.createElement(s,{styles:bc(o)}):null,y?p.createElement(lc,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wc(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sc=Ka(Po,xc);var Lo=p.forwardRef(function(e,t){return p.createElement(rt,H({},e,{ref:t,sideCar:Sc}))});Lo.classNames=rt.classNames;var Ec=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},le=new WeakMap,Fe=new WeakMap,Ue={},vt=0,qo=function(e){return e&&(e.host||qo(e.parentNode))},Cc=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=qo(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Nc=function(e,t,r,n){var o=Cc(t,Array.isArray(e)?e:[e]);Ue[r]||(Ue[r]=new WeakMap);var s=Ue[r],i=[],a=new Set,u=new Set(o),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};o.forEach(d);var l=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))l(g);else try{var y=g.getAttribute(n),C=y!==null&&y!=="false",v=(le.get(g)||0)+1,m=(s.get(g)||0)+1;le.set(g,v),s.set(g,m),i.push(g),v===1&&C&&Fe.set(g,!0),m===1&&g.setAttribute(r,"true"),C||g.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return l(t),a.clear(),vt++,function(){i.forEach(function(f){var g=le.get(f)-1,y=s.get(f)-1;le.set(f,g),s.set(f,y),g||(Fe.has(f)||f.removeAttribute(n),Fe.delete(f)),y||f.removeAttribute(r)}),vt--,vt||(le=new WeakMap,le=new WeakMap,Fe=new WeakMap,Ue={})}},jc=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Ec(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Nc(n,o,r,"aria-hidden")):function(){return null}},nt="Dialog",[Fo,hu]=me(nt),[Tc,$]=Fo(nt),Uo=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=p.useRef(null),u=p.useRef(null),[d,l]=tt({prop:n,defaultProp:o??!1,onChange:s,caller:nt});return c.jsx(Tc,{scope:t,triggerRef:a,contentRef:u,contentId:Ee(),titleId:Ee(),descriptionId:Ee(),open:d,onOpenChange:l,onOpenToggle:p.useCallback(()=>l(f=>!f),[l]),modal:i,children:r})};Uo.displayName=nt;var Go="DialogTrigger",Bo=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=$(Go,r),s=W(t,o.triggerRef);return c.jsx(U.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Rr(o.open),...n,ref:s,onClick:G(e.onClick,o.onOpenToggle)})});Bo.displayName=Go;var jr="DialogPortal",[Rc,Wo]=Fo(jr,{forceMount:void 0}),zo=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=$(jr,t);return c.jsx(Rc,{scope:t,forceMount:r,children:p.Children.map(n,i=>c.jsx(ve,{present:r||s.open,children:c.jsx(ko,{asChild:!0,container:o,children:i})}))})};zo.displayName=jr;var Ve="DialogOverlay",$o=p.forwardRef((e,t)=>{const r=Wo(Ve,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=$(Ve,e.__scopeDialog);return s.modal?c.jsx(ve,{present:n||s.open,children:c.jsx(Ic,{...o,ref:t})}):null});$o.displayName=Ve;var kc=Ne("DialogOverlay.RemoveScroll"),Ic=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=$(Ve,r);return c.jsx(Lo,{as:kc,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(U.div,{"data-state":Rr(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),se="DialogContent",Ho=p.forwardRef((e,t)=>{const r=Wo(se,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=$(se,e.__scopeDialog);return c.jsx(ve,{present:n||s.open,children:s.modal?c.jsx(_c,{...o,ref:t}):c.jsx(Pc,{...o,ref:t})})});Ho.displayName=se;var _c=p.forwardRef((e,t)=>{const r=$(se,e.__scopeDialog),n=p.useRef(null),o=W(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return jc(s)},[]),c.jsx(Xo,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:G(e.onFocusOutside,s=>s.preventDefault())})}),Pc=p.forwardRef((e,t)=>{const r=$(se,e.__scopeDialog),n=p.useRef(!1),o=p.useRef(!1);return c.jsx(Xo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;r.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Xo=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=$(se,r),u=p.useRef(null),d=W(t,u);return Ua(),c.jsxs(c.Fragment,{children:[c.jsx(To,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:c.jsx(No,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Rr(a.open),...i,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Oc,{titleId:a.titleId}),c.jsx(Mc,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Tr="DialogTitle",Jo=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=$(Tr,r);return c.jsx(U.h2,{id:o.titleId,...n,ref:t})});Jo.displayName=Tr;var Vo="DialogDescription",Ko=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=$(Vo,r);return c.jsx(U.p,{id:o.descriptionId,...n,ref:t})});Ko.displayName=Vo;var Qo="DialogClose",Yo=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=$(Qo,r);return c.jsx(U.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>o.onOpenChange(!1))})});Yo.displayName=Qo;function Rr(e){return e?"open":"closed"}var Zo="DialogTitleWarning",[pu,es]=fa(Zo,{contentName:se,titleName:Tr,docsSlug:"dialog"}),Oc=({titleId:e})=>{const t=es(Zo),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ac="DialogDescriptionWarning",Mc=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${es(Ac).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Dc=Uo,Lc=Bo,qc=zo,ts=$o,rs=Ho,ns=Jo,os=Ko,Fc=Yo;const Ke=Dc,rn=Lc,Uc=qc,ss=p.forwardRef(({className:e,...t},r)=>c.jsx(ts,{ref:r,className:F("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ss.displayName=ts.displayName;const je=p.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(Uc,{children:[c.jsx(ss,{}),c.jsxs(rs,{ref:n,className:F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(Fc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(ci,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));je.displayName=rs.displayName;const Te=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Te.displayName="DialogHeader";const Qe=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qe.displayName="DialogFooter";const Re=p.forwardRef(({className:e,...t},r)=>c.jsx(ns,{ref:r,className:F("text-lg font-semibold leading-none tracking-tight",e),...t}));Re.displayName=ns.displayName;const ke=p.forwardRef(({className:e,...t},r)=>c.jsx(os,{ref:r,className:F("text-sm text-muted-foreground",e),...t}));ke.displayName=os.displayName;const Gc=go("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:e,variant:t,...r}){return c.jsx("div",{className:F(Gc({variant:t}),e),...r})}const Bc=()=>{const{backendGameState:e,actions:t,isConnected:r}=ie(),[n,o]=p.useState(null),s=()=>{o("resign")},i=()=>{o("draw")},a=()=>{t.resetGame(),o(null)},u=()=>{o(null)},d=()=>{o(null)},l=y=>y==="white"?"White ♔":"Black ♚",f=(y,C)=>{if(!r)return"Offline";switch(y){case"checkmate":return"Checkmate";case"stalemate":return"Stalemate";case"draw":return"Draw";case"resigned":return"Resigned";case"active":return C==="white"?"White to Move":"Black to Move";default:return"Ready"}},g=(y,C)=>{if(!r)return"destructive";switch(y){case"checkmate":case"resigned":return"destructive";case"stalemate":case"draw":return"secondary";case"active":return"default";default:return"outline"}};return c.jsxs(te,{className:"w-80 max-w-sm",children:[c.jsxs(Ze,{children:[c.jsx(et,{children:"Game Controls"}),c.jsx(X,{variant:g(e?.gameStatus,e?.currentPlayer),className:"bg-sky-500 text-white hover:bg-sky-600",children:f(e?.gameStatus,e?.currentPlayer)})]}),c.jsxs(re,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(q,{onClick:t.resetGame,className:"w-full",size:"lg",children:"New Game"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(q,{onClick:()=>{},disabled:!0,variant:"secondary",size:"sm",children:"↶ Undo"}),c.jsx(q,{onClick:()=>{},disabled:!0,variant:"secondary",size:"sm",children:"↷ Redo"})]})]}),c.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Player:"}),c.jsx(X,{variant:"outline",className:"text-sm",children:l(e?.currentPlayer||"white")})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Game Status:"}),c.jsx(X,{variant:e?.gameStatus==="active"?"default":"secondary",className:"text-sm",children:(e?.gameStatus||"active").charAt(0).toUpperCase()+(e?.gameStatus||"active").slice(1)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Moves:"}),c.jsx("span",{className:"text-sm font-medium",children:"0"})," "]})]}),(e?.gameStatus||"active")==="active"&&c.jsx("div",{className:"pt-4 border-t space-y-2",children:c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs(Ke,{open:n==="resign",onOpenChange:y=>!y&&o(null),children:[c.jsx(rn,{asChild:!0,children:c.jsx(q,{onClick:s,variant:"destructive",size:"sm",children:"Resign"})}),c.jsxs(je,{children:[c.jsxs(Te,{children:[c.jsx(Re,{children:"Resign Game?"}),c.jsx(ke,{children:"Are you sure you want to resign? This will end the game in your opponent's favor."})]}),c.jsxs(Qe,{children:[c.jsx(q,{variant:"outline",onClick:d,children:"Cancel"}),c.jsx(q,{variant:"destructive",onClick:a,children:"Resign"})]})]})]}),c.jsxs(Ke,{open:n==="draw",onOpenChange:y=>!y&&o(null),children:[c.jsx(rn,{asChild:!0,children:c.jsx(q,{onClick:i,variant:"secondary",size:"sm",children:"Offer Draw"})}),c.jsxs(je,{children:[c.jsxs(Te,{children:[c.jsx(Re,{children:"Offer Draw?"}),c.jsx(ke,{children:"Do you want to offer a draw to your opponent?"})]}),c.jsxs(Qe,{children:[c.jsx(q,{variant:"outline",onClick:d,children:"Cancel"}),c.jsx(q,{variant:"secondary",onClick:u,children:"Offer Draw"})]})]})]})]})})]})]})};var kr="Progress",Ir=100,[Wc,mu]=me(kr),[zc,$c]=Wc(kr),is=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:s=Hc,...i}=e;(o||o===0)&&!nn(o)&&console.error(Xc(`${o}`,"Progress"));const a=nn(o)?o:Ir;n!==null&&!on(n,a)&&console.error(Jc(`${n}`,"Progress"));const u=on(n,a)?n:null,d=Ye(u)?s(u,a):void 0;return c.jsx(zc,{scope:r,value:u,max:a,children:c.jsx(U.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ye(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":ls(u,a),"data-value":u??void 0,"data-max":a,...i,ref:t})})});is.displayName=kr;var as="ProgressIndicator",cs=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=$c(as,r);return c.jsx(U.div,{"data-state":ls(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});cs.displayName=as;function Hc(e,t){return`${Math.round(e/t*100)}%`}function ls(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ye(e){return typeof e=="number"}function nn(e){return Ye(e)&&!isNaN(e)&&e>0}function on(e,t){return Ye(e)&&!isNaN(e)&&e<=t&&e>=0}function Xc(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ir}\`.`}function Jc(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ir} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var us=is,Vc=cs;const ds=p.forwardRef(({className:e,value:t,...r},n)=>c.jsx(us,{ref:n,className:F("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(Vc,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ds.displayName=us.displayName;function Kc(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Qc(e){const[t,r]=p.useState(void 0);return fe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;i=d.inlineSize,a=d.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ot="Checkbox",[Yc,vu]=me(ot),[Zc,_r]=Yc(ot);function el(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:s,form:i,name:a,onCheckedChange:u,required:d,value:l="on",internal_do_not_use_render:f}=e,[g,y]=tt({prop:r,defaultProp:o??!1,onChange:u,caller:ot}),[C,v]=p.useState(null),[m,x]=p.useState(null),h=p.useRef(!1),w=C?!!i||!!C.closest("form"):!0,b={checked:g,disabled:s,setChecked:y,control:C,setControl:v,name:a,form:i,value:l,hasConsumerStoppedPropagationRef:h,required:d,defaultChecked:ne(o)?!1:o,isFormControl:w,bubbleInput:m,setBubbleInput:x};return c.jsx(Zc,{scope:t,...b,children:tl(f)?f(b):n})}var fs="CheckboxTrigger",hs=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:s,value:i,disabled:a,checked:u,required:d,setControl:l,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:C}=_r(fs,e),v=W(o,l),m=p.useRef(u);return p.useEffect(()=>{const x=s?.form;if(x){const h=()=>f(m.current);return x.addEventListener("reset",h),()=>x.removeEventListener("reset",h)}},[s,f]),c.jsx(U.button,{type:"button",role:"checkbox","aria-checked":ne(u)?"mixed":u,"aria-required":d,"data-state":bs(u),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:v,onKeyDown:G(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:G(r,x=>{f(h=>ne(h)?!0:!h),C&&y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})})});hs.displayName=fs;var Pr=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:s,required:i,disabled:a,value:u,onCheckedChange:d,form:l,...f}=e;return c.jsx(el,{__scopeCheckbox:r,checked:o,defaultChecked:s,disabled:a,required:i,onCheckedChange:d,name:n,form:l,value:u,internal_do_not_use_render:({isFormControl:g})=>c.jsxs(c.Fragment,{children:[c.jsx(hs,{...f,ref:t,__scopeCheckbox:r}),g&&c.jsx(gs,{__scopeCheckbox:r})]})})});Pr.displayName=ot;var ps="CheckboxIndicator",ms=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,s=_r(ps,r);return c.jsx(ve,{present:n||ne(s.checked)||s.checked===!0,children:c.jsx(U.span,{"data-state":bs(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});ms.displayName=ps;var vs="CheckboxBubbleInput",gs=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:i,required:a,disabled:u,name:d,value:l,form:f,bubbleInput:g,setBubbleInput:y}=_r(vs,e),C=W(r,y),v=Kc(s),m=Qc(n);p.useEffect(()=>{const h=g;if(!h)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,k=!o.current;if(v!==s&&E){const N=new Event("click",{bubbles:k});h.indeterminate=ne(s),E.call(h,ne(s)?!1:s),h.dispatchEvent(N)}},[g,v,s,o]);const x=p.useRef(ne(s)?!1:s);return c.jsx(U.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:u,name:d,value:l,form:f,...t,tabIndex:-1,ref:C,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gs.displayName=vs;function tl(e){return typeof e=="function"}function ne(e){return e==="indeterminate"}function bs(e){return ne(e)?"indeterminate":e?"checked":"unchecked"}const ys=p.forwardRef(({className:e,...t},r)=>c.jsx(Pr,{ref:r,className:F("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(ms,{className:F("flex items-center justify-center text-current"),children:c.jsx(li,{className:"h-4 w-4"})})}));ys.displayName=Pr.displayName;const rl=()=>{const{aiSystems:e,trainingStatus:t,mcpStatus:r,actions:n}=ie(),[o,s]=p.useState([]),[i,a]=p.useState(!1),u=()=>{const m=o.length>0?o:Object.keys(e).filter(x=>e[x].enabled);n.startTraining(m)},d=()=>{n.stopTraining()},l=m=>{},f=m=>{},g=m=>{s(x=>x.includes(m)?x.filter(h=>h!==m):[...x,m])},y=m=>t.progress[m]||0,C=m=>t.quality[m],v=m=>{if(!m)return"0:00";const x=Date.now()-m,h=Math.floor(x/6e4),w=Math.floor(x%6e4/1e3);return`${h}:${w.toString().padStart(2,"0")}`};return c.jsxs(te,{children:[c.jsx(Ze,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(et,{children:"AI Training Management"}),c.jsxs(q,{onClick:()=>a(!i),variant:"outline",size:"sm",children:[i?"Hide":"Show"," Quality Report"]})]})}),c.jsxs(re,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(q,{onClick:u,disabled:t.active,className:"flex-1",size:"sm",children:o.length>0?`Start Training (${o.length})`:"Start All Training"}),c.jsx(q,{onClick:d,disabled:!t.active,variant:"destructive",className:"flex-1",size:"sm",children:"Stop Training"})]}),t.active&&c.jsx(te,{className:"bg-green-50 border-green-200",children:c.jsx(re,{className:"p-3",children:c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-medium text-green-800",children:"Training Active"}),c.jsx("span",{className:"text-green-600",children:v(t.startTime)})]}),c.jsxs("div",{className:"flex justify-between text-xs text-green-700",children:[c.jsxs("span",{children:["Games: ",t.completedGames||0,"/",t.totalGames||0]}),c.jsxs("span",{children:["Progress: ",Math.round((t.completedGames||0)/(t.totalGames||1)*100),"%"]})]})]})})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-sm font-medium",children:"AI Systems (12 Total)"}),c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-64 overflow-y-auto",children:Object.values(e).map(m=>c.jsx(te,{className:`transition-colors ${o.includes(m.name)?"bg-blue-50 border-blue-200":""}`,children:c.jsxs(re,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ys,{checked:o.includes(m.name),onCheckedChange:()=>g(m.name)}),c.jsx("span",{className:"font-medium text-sm",children:m.name})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${m.status==="training"?"bg-green-500 animate-pulse":m.status==="error"?"bg-red-500":"bg-gray-400"}`}),c.jsx(X,{variant:"outline",className:"text-xs",children:m.status})]})]}),m.status==="training"&&c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[y(m.name),"%"]})]}),c.jsx(ds,{value:y(m.name),className:"h-1.5"})]}),i&&C(m.name)&&c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mb-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Win Rate:"}),c.jsxs("span",{className:"font-medium",children:[C(m.name).winRate.toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Avg Response:"}),c.jsxs("span",{className:"font-medium",children:[C(m.name).averageResponseTime.toFixed(0),"ms"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Error Rate:"}),c.jsxs("span",{className:"font-medium",children:[C(m.name).errorRate.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx(q,{onClick:()=>f(m.name),size:"sm",variant:"outline",className:"text-xs px-2 py-1 h-auto",children:"Evaluate"}),c.jsx(q,{onClick:()=>l(m.name),size:"sm",variant:"destructive",className:"text-xs px-2 py-1 h-auto",children:"Delete"})]})]})},m.name))})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"MCP Server Status"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Status:"}),c.jsx(X,{variant:r.connected?"default":"destructive",children:r.connected?"Connected":"Disconnected"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Active Agents:"}),c.jsx("span",{className:"font-medium",children:r.activeAgents})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Total Sessions:"}),c.jsx("span",{className:"font-medium",children:r.totalSessions})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Last Activity:"}),c.jsx("span",{className:"font-medium text-xs",children:r.lastActivity?new Date(r.lastActivity).toLocaleTimeString():"Never"})]})]})]})]})]})]})},nl=({isOpen:e,color:t,onSelect:r,onCancel:n})=>{if(!e)return null;const o=[{type:"queen",symbol:t==="white"?"♕":"♛",name:"Queen"},{type:"rook",symbol:t==="white"?"♖":"♜",name:"Rook"},{type:"bishop",symbol:t==="white"?"♗":"♝",name:"Bishop"},{type:"knight",symbol:t==="white"?"♘":"♞",name:"Knight"}];return c.jsx(Ke,{open:e,onOpenChange:s=>!s&&n(),children:c.jsxs(je,{className:"max-w-sm",children:[c.jsxs(Te,{children:[c.jsx(Re,{className:"text-center",children:"Promote Pawn to:"}),c.jsx(ke,{className:"text-center",children:"Choose which piece to promote your pawn to"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-3 my-4",children:o.map(s=>c.jsx(te,{className:"cursor-pointer hover:bg-muted transition-colors",onClick:()=>r(s.type),children:c.jsxs(re,{className:"flex flex-col items-center p-4",children:[c.jsx("span",{className:"text-3xl mb-2",children:s.symbol}),c.jsx("span",{className:"text-sm font-medium",children:s.name})]})},s.type))}),c.jsx("div",{className:"flex justify-center",children:c.jsx(q,{onClick:n,variant:"outline",className:"w-full",children:"Cancel"})})]})})},gt=[{name:"Italian Game",moves:["e4","e5","Nf3","Nc6","Bc4"],description:"Classical opening with rapid development",category:"King's Pawn"},{name:"Spanish (Ruy Lopez)",moves:["e4","e5","Nf3","Nc6","Bb5"],description:"Most popular opening in chess",category:"King's Pawn"},{name:"Sicilian Defense",moves:["e4","c5"],description:"Aggressive response to 1.e4",category:"King's Pawn"},{name:"French Defense",moves:["e4","e6"],description:"Solid defensive opening",category:"King's Pawn"},{name:"Caro-Kann Defense",moves:["e4","c6"],description:"Solid and reliable opening",category:"King's Pawn"},{name:"Queen's Gambit",moves:["d4","d5","c4"],description:"Classical opening with pawn sacrifice",category:"Queen's Pawn"},{name:"King's Indian Defense",moves:["d4","Nf6","c4","g6"],description:"Dynamic counter-attacking opening",category:"Queen's Pawn"},{name:"Nimzo-Indian Defense",moves:["d4","Nf6","c4","e6","Nc3","Bb4"],description:"Strategic opening with piece pressure",category:"Queen's Pawn"},{name:"Grünfeld Defense",moves:["d4","Nf6","c4","g6","Nc3","d5"],description:"Dynamic counter-gambit",category:"Queen's Pawn"},{name:"English Opening",moves:["c4"],description:"Flank opening with flexible development",category:"Queen's Pawn"},{name:"Reti Opening",moves:["Nf3"],description:"Flexible opening system",category:"Flank"},{name:"Bird's Opening",moves:["f4"],description:"Aggressive flank opening",category:"Flank"},{name:"Nimzowitsch-Larsen Attack",moves:["b3"],description:"Unconventional flank opening",category:"Flank"},{name:"Alekhine's Defense",moves:["e4","Nf6"],description:"Provocative opening inviting pawn advance",category:"Irregular"},{name:"Pirc Defense",moves:["e4","d6"],description:"Hypermodern opening",category:"Irregular"},{name:"Modern Defense",moves:["e4","g6"],description:"Hypermodern opening with fianchetto",category:"Irregular"},{name:"King's Gambit",moves:["e4","e5","f4"],description:"Aggressive gambit opening",category:"Gambit"},{name:"Evans Gambit",moves:["e4","e5","Nf3","Nc6","Bc4","Bc5","b4"],description:"Gambit in Italian Game",category:"Gambit"},{name:"Benko Gambit",moves:["d4","Nf6","c4","c5","d5","b5"],description:"Pawn sacrifice for long-term compensation",category:"Gambit"},{name:"Queen's Indian Defense",moves:["d4","Nf6","c4","e6","Nf3","b6"],description:"Solid Indian defense",category:"Indian"},{name:"Bogo-Indian Defense",moves:["d4","Nf6","c4","e6","Nf3","Bb4+"],description:"Indian defense with bishop check",category:"Indian"},{name:"Old Indian Defense",moves:["d4","Nf6","c4","d6"],description:"Traditional Indian defense",category:"Indian"},{name:"Scandinavian Defense",moves:["e4","d5"],description:"Direct counter-attack",category:"Semi-Open"},{name:"Center Counter",moves:["e4","d5","exd5"],description:"Immediate pawn capture",category:"Semi-Open"},{name:"Philidor Defense",moves:["e4","e5","Nf3","d6"],description:"Solid but passive defense",category:"Semi-Open"},{name:"Vienna Game",moves:["e4","e5","Nc3"],description:"Flexible development system",category:"Closed"},{name:"Petrov Defense",moves:["e4","e5","Nf3","Nf6"],description:"Symmetrical opening",category:"Closed"},{name:"Scotch Game",moves:["e4","e5","Nf3","Nc6","d4"],description:"Direct central advance",category:"Closed"},{name:"Dutch Defense",moves:["d4","f5"],description:"Unusual but playable opening",category:"Unusual"},{name:"Budapest Gambit",moves:["d4","Nf6","c4","e5"],description:"Gambit in Queen's Pawn",category:"Gambit"},{name:"Albin Counter-Gambit",moves:["d4","d5","c4","e5"],description:"Counter-gambit response",category:"Gambit"},{name:"Latvian Gambit",moves:["e4","e5","Nf3","f5"],description:"Aggressive gambit",category:"Gambit"},{name:"Elephant Gambit",moves:["e4","e5","Nf3","d5"],description:"Unusual gambit",category:"Gambit"},{name:"St. George Defense",moves:["e4","a6"],description:"Unconventional opening",category:"Unusual"}],ol=()=>{const[e,t]=p.useState("All"),[r,n]=p.useState(null);ie();const o=["All",...Array.from(new Set(gt.map(i=>i.category)))],s=e==="All"?gt:gt.filter(i=>i.category===e);return c.jsxs(te,{children:[c.jsx(Ze,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(et,{children:"Opening Book (34 Openings)"}),c.jsxs(X,{variant:"outline",children:[s.length," openings"]})]})}),c.jsxs(re,{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(i=>c.jsx(q,{onClick:()=>t(i),variant:e===i?"default":"outline",size:"sm",className:"text-xs",children:i},i))}),c.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:s.map((i,a)=>c.jsx(te,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(i),children:c.jsxs(re,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-medium text-sm",children:i.name}),c.jsx(X,{variant:"secondary",className:"text-xs",children:i.category})]}),c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:i.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex space-x-1",children:i.moves.map((u,d)=>c.jsx(X,{variant:"outline",className:"text-xs font-mono",children:u},d))}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx(q,{onClick:u=>{u.stopPropagation()},size:"sm",variant:"default",className:"text-xs px-2 py-1 h-auto",children:"Play"}),c.jsx(q,{onClick:u=>{u.stopPropagation()},size:"sm",variant:"outline",className:"text-xs px-2 py-1 h-auto",children:"Analyze"})]})]})]})},a))}),c.jsx(Ke,{open:!!r,onOpenChange:i=>!i&&n(null),children:c.jsxs(je,{className:"max-w-md",children:[c.jsxs(Te,{children:[c.jsx(Re,{children:r?.name}),c.jsx(ke,{children:"Detailed information about this chess opening"})]}),r&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Category: "}),c.jsx(X,{variant:"outline",children:r.category})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Description: "}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Moves: "}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.moves.map((i,a)=>c.jsxs(X,{variant:"outline",className:"text-sm font-mono",children:[a+1,".",i]},a))})]})]}),c.jsxs(Qe,{children:[c.jsx(q,{onClick:()=>{n(null)},className:"flex-1",children:"Play This Opening"}),c.jsx(q,{onClick:()=>n(null),variant:"outline",className:"flex-1",children:"Close"})]})]})})]})]})},sl=()=>c.jsx("header",{className:"bg-card border-b border-border",children:c.jsx("div",{className:"container mx-auto px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"♟️ Chess AI Game"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"New Age Interface"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("a",{href:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"← Legacy UI"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"v2.0.0"})]})]})})}),il=()=>c.jsx("aside",{className:"w-full lg:w-64 bg-card border-r border-border p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Game Info"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsx("div",{children:"Status: Active"}),c.jsx("div",{children:"Current Player: White"}),c.jsx("div",{children:"Moves: 0"})]})]})}),al=()=>c.jsx("footer",{className:"bg-card border-t border-border",children:c.jsx("div",{className:"container mx-auto px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[c.jsx("div",{children:"© 2025 Chess AI Game - React UI v2.0.0"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("span",{children:"12 AI Systems"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"PWA Ready"})]})]})})});function cl(e){const t=e+"CollectionProvider",[r,n]=me(t),[o,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:m,children:x}=v,h=Z.useRef(null),w=Z.useRef(new Map).current;return c.jsx(o,{scope:m,itemMap:w,collectionRef:h,children:x})};i.displayName=t;const a=e+"CollectionSlot",u=Ne(a),d=Z.forwardRef((v,m)=>{const{scope:x,children:h}=v,w=s(a,x),b=W(m,w.collectionRef);return c.jsx(u,{ref:b,children:h})});d.displayName=a;const l=e+"CollectionItemSlot",f="data-radix-collection-item",g=Ne(l),y=Z.forwardRef((v,m)=>{const{scope:x,children:h,...w}=v,b=Z.useRef(null),E=W(m,b),k=s(l,x);return Z.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),c.jsx(g,{[f]:"",ref:E,children:h})});y.displayName=l;function C(v){const m=s(e+"CollectionConsumer",v);return Z.useCallback(()=>{const h=m.collectionRef.current;if(!h)return[];const w=Array.from(h.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((k,N)=>w.indexOf(k.ref.current)-w.indexOf(N.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:i,Slot:d,ItemSlot:y},C,n]}var ll=p.createContext(void 0);function xs(e){const t=p.useContext(ll);return e||t||"ltr"}var bt="rovingFocusGroup.onEntryFocus",ul={bubbles:!1,cancelable:!0},Ie="RovingFocusGroup",[Sr,ws,dl]=cl(Ie),[fl,Ss]=me(Ie,[dl]),[hl,pl]=fl(Ie),Es=p.forwardRef((e,t)=>c.jsx(Sr.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Sr.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(ml,{...e,ref:t})})}));Es.displayName=Ie;var ml=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:l=!1,...f}=e,g=p.useRef(null),y=W(t,g),C=xs(s),[v,m]=tt({prop:i,defaultProp:a??null,onChange:u,caller:Ie}),[x,h]=p.useState(!1),w=he(d),b=ws(r),E=p.useRef(!1),[k,N]=p.useState(0);return p.useEffect(()=>{const S=g.current;if(S)return S.addEventListener(bt,w),()=>S.removeEventListener(bt,w)},[w]),c.jsx(hl,{scope:r,orientation:n,dir:C,loop:o,currentTabStopId:v,onItemFocus:p.useCallback(S=>m(S),[m]),onItemShiftTab:p.useCallback(()=>h(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>N(S=>S-1),[]),children:c.jsx(U.div,{tabIndex:x||k===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{E.current=!0}),onFocus:G(e.onFocus,S=>{const R=!E.current;if(S.target===S.currentTarget&&R&&!x){const I=new CustomEvent(bt,ul);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const P=b().filter(M=>M.focusable),T=P.find(M=>M.active),j=P.find(M=>M.id===v),_=[T,j,...P].filter(Boolean).map(M=>M.ref.current);js(_,l)}}E.current=!1}),onBlur:G(e.onBlur,()=>h(!1))})})}),Cs="RovingFocusGroupItem",Ns=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:s,children:i,...a}=e,u=Ee(),d=s||u,l=pl(Cs,r),f=l.currentTabStopId===d,g=ws(r),{onFocusableItemAdd:y,onFocusableItemRemove:C,currentTabStopId:v}=l;return p.useEffect(()=>{if(n)return y(),()=>C()},[n,y,C]),c.jsx(Sr.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:c.jsx(U.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...a,ref:t,onMouseDown:G(e.onMouseDown,m=>{n?l.onItemFocus(d):m.preventDefault()}),onFocus:G(e.onFocus,()=>l.onItemFocus(d)),onKeyDown:G(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=bl(m,l.orientation,l.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let w=g().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const b=w.indexOf(m.currentTarget);w=l.loop?yl(w,b+1):w.slice(b+1)}setTimeout(()=>js(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Ns.displayName=Cs;var vl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bl(e,t,r){const n=gl(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vl[n]}function js(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yl(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xl=Es,wl=Ns,st="Tabs",[Sl,gu]=me(st,[Ss]),Ts=Ss(),[El,Or]=Sl(st),Rs=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:a,activationMode:u="automatic",...d}=e,l=xs(a),[f,g]=tt({prop:n,onChange:o,defaultProp:s??"",caller:st});return c.jsx(El,{scope:r,baseId:Ee(),value:f,onValueChange:g,orientation:i,dir:l,activationMode:u,children:c.jsx(U.div,{dir:l,"data-orientation":i,...d,ref:t})})});Rs.displayName=st;var ks="TabsList",Is=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,s=Or(ks,r),i=Ts(r);return c.jsx(xl,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:c.jsx(U.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Is.displayName=ks;var _s="TabsTrigger",Ps=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...s}=e,i=Or(_s,r),a=Ts(r),u=Ms(i.baseId,n),d=Ds(i.baseId,n),l=n===i.value;return c.jsx(wl,{asChild:!0,...a,focusable:!o,active:l,children:c.jsx(U.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":d,"data-state":l?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...s,ref:t,onMouseDown:G(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:G(e.onFocus,()=>{const f=i.activationMode!=="manual";!l&&!o&&f&&i.onValueChange(n)})})})});Ps.displayName=_s;var Os="TabsContent",As=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:s,...i}=e,a=Or(Os,r),u=Ms(a.baseId,n),d=Ds(a.baseId,n),l=n===a.value,f=p.useRef(l);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),c.jsx(ve,{present:o||l,children:({present:g})=>c.jsx(U.div,{"data-state":l?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&s})})});As.displayName=Os;function Ms(e,t){return`${e}-trigger-${t}`}function Ds(e,t){return`${e}-content-${t}`}var Cl=Rs,Ls=Is,qs=Ps,Fs=As;const Nl=Cl,Us=p.forwardRef(({className:e,...t},r)=>c.jsx(Ls,{ref:r,className:F("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Us.displayName=Ls.displayName;const Er=p.forwardRef(({className:e,...t},r)=>c.jsx(qs,{ref:r,className:F("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Er.displayName=qs.displayName;const Cr=p.forwardRef(({className:e,...t},r)=>c.jsx(Fs,{ref:r,className:F("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Cr.displayName=Fs.displayName;var yt={exports:{}},Ge={},sn;function jl(){return sn||(sn=1,globalThis.crypto&&globalThis.crypto.getRandomValues?Ge.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Ge.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t}),Ge}var xt,an;function ge(){if(an)return xt;an=1;var e=jl(),t="abcdefghijklmnopqrstuvwxyz012345";return xt={string:function(r){for(var n=t.length,o=e.randomBytes(r),s=[],i=0;i<r;i++)s.push(t.substr(o[i]%n,1));return s.join("")},number:function(r){return Math.floor(Math.random()*r)},numberString:function(r){var n=(""+(r-1)).length,o=new Array(n+1).join("0");return(o+this.number(r)).slice(-n)}},xt}var cn;function oe(){return cn||(cn=1,(function(e){var t=ge(),r={},n=!1,o=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(i,a){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(i,a,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+i,a),globalThis.attachEvent("on"+i,a))},detachEvent:function(i,a){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(i,a,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+i,a),globalThis.detachEvent("on"+i,a))},unloadAdd:function(i){if(o)return null;var a=t.string(8);return r[a]=i,n&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(i){i in r&&delete r[i]},triggerUnloadCallbacks:function(){for(var i in r)r[i](),delete r[i]}};var s=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};o||e.exports.attachEvent("unload",s)})(yt)),yt.exports}var wt,ln;function Tl(){return ln||(ln=1,wt=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),wt}var Be={},un;function Rl(){if(un)return Be;un=1;var e=Object.prototype.hasOwnProperty,t;function r(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function n(i){try{return encodeURIComponent(i)}catch{return null}}function o(i){for(var a=/([^=?#&]+)=?([^&]*)/g,u={},d;d=a.exec(i);){var l=r(d[1]),f=r(d[2]);l===null||f===null||l in u||(u[l]=f)}return u}function s(i,a){a=a||"";var u=[],d,l;typeof a!="string"&&(a="?");for(l in i)if(e.call(i,l)){if(d=i[l],!d&&(d===null||d===t||isNaN(d))&&(d=""),l=n(l),d=n(d),l===null||d===null)continue;u.push(l+"="+d)}return u.length?a+u.join("&"):""}return Be.stringify=s,Be.parse=o,Be}var St,dn;function Gs(){if(dn)return St;dn=1;var e=Tl(),t=Rl(),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function u(h){return(h||"").toString().replace(r,"")}var d=[["#","hash"],["?","query"],function(w,b){return g(b.protocol)?w.replace(/\\/g,"/"):w},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(h){var w;typeof window<"u"?w=window:typeof globalThis<"u"?w=globalThis:typeof self<"u"?w=self:w={};var b=w.location||{};h=h||b;var E={},k=typeof h,N;if(h.protocol==="blob:")E=new v(unescape(h.pathname),{});else if(k==="string"){E=new v(h,{});for(N in l)delete E[N]}else if(k==="object"){for(N in h)N in l||(E[N]=h[N]);E.slashes===void 0&&(E.slashes=o.test(h.href))}return E}function g(h){return h==="file:"||h==="ftp:"||h==="http:"||h==="https:"||h==="ws:"||h==="wss:"}function y(h,w){h=u(h),h=h.replace(n,""),w=w||{};var b=i.exec(h),E=b[1]?b[1].toLowerCase():"",k=!!b[2],N=!!b[3],S=0,R;return k?N?(R=b[2]+b[3]+b[4],S=b[2].length+b[3].length):(R=b[2]+b[4],S=b[2].length):N?(R=b[3]+b[4],S=b[3].length):R=b[4],E==="file:"?S>=2&&(R=R.slice(2)):g(E)?R=b[4]:E?k&&(R=R.slice(2)):S>=2&&g(w.protocol)&&(R=b[4]),{protocol:E,slashes:k||g(E),slashesCount:S,rest:R}}function C(h,w){if(h==="")return w;for(var b=(w||"/").split("/").slice(0,-1).concat(h.split("/")),E=b.length,k=b[E-1],N=!1,S=0;E--;)b[E]==="."?b.splice(E,1):b[E]===".."?(b.splice(E,1),S++):S&&(E===0&&(N=!0),b.splice(E,1),S--);return N&&b.unshift(""),(k==="."||k==="..")&&b.push(""),b.join("/")}function v(h,w,b){if(h=u(h),h=h.replace(n,""),!(this instanceof v))return new v(h,w,b);var E,k,N,S,R,I,P=d.slice(),T=typeof w,j=this,D=0;for(T!=="object"&&T!=="string"&&(b=w,w=null),b&&typeof b!="function"&&(b=t.parse),w=f(w),k=y(h||"",w),E=!k.protocol&&!k.slashes,j.slashes=k.slashes||E&&w.slashes,j.protocol=k.protocol||w.protocol||"",h=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||a.test(h))||!k.slashes&&(k.protocol||k.slashesCount<2||!g(j.protocol)))&&(P[3]=[/(.*)/,"pathname"]);D<P.length;D++){if(S=P[D],typeof S=="function"){h=S(h,j);continue}N=S[0],I=S[1],N!==N?j[I]=h:typeof N=="string"?(R=N==="@"?h.lastIndexOf(N):h.indexOf(N),~R&&(typeof S[2]=="number"?(j[I]=h.slice(0,R),h=h.slice(R+S[2])):(j[I]=h.slice(R),h=h.slice(0,R)))):(R=N.exec(h))&&(j[I]=R[1],h=h.slice(0,R.index)),j[I]=j[I]||E&&S[3]&&w[I]||"",S[4]&&(j[I]=j[I].toLowerCase())}b&&(j.query=b(j.query)),E&&w.slashes&&j.pathname.charAt(0)!=="/"&&(j.pathname!==""||w.pathname!=="")&&(j.pathname=C(j.pathname,w.pathname)),j.pathname.charAt(0)!=="/"&&g(j.protocol)&&(j.pathname="/"+j.pathname),e(j.port,j.protocol)||(j.host=j.hostname,j.port=""),j.username=j.password="",j.auth&&(R=j.auth.indexOf(":"),~R?(j.username=j.auth.slice(0,R),j.username=encodeURIComponent(decodeURIComponent(j.username)),j.password=j.auth.slice(R+1),j.password=encodeURIComponent(decodeURIComponent(j.password))):j.username=encodeURIComponent(decodeURIComponent(j.auth)),j.auth=j.password?j.username+":"+j.password:j.username),j.origin=j.protocol!=="file:"&&g(j.protocol)&&j.host?j.protocol+"//"+j.host:"null",j.href=j.toString()}function m(h,w,b){var E=this;switch(h){case"query":typeof w=="string"&&w.length&&(w=(b||t.parse)(w)),E[h]=w;break;case"port":E[h]=w,e(w,E.protocol)?w&&(E.host=E.hostname+":"+w):(E.host=E.hostname,E[h]="");break;case"hostname":E[h]=w,E.port&&(w+=":"+E.port),E.host=w;break;case"host":E[h]=w,s.test(w)?(w=w.split(":"),E.port=w.pop(),E.hostname=w.join(":")):(E.hostname=w,E.port="");break;case"protocol":E.protocol=w.toLowerCase(),E.slashes=!b;break;case"pathname":case"hash":if(w){var k=h==="pathname"?"/":"#";E[h]=w.charAt(0)!==k?k+w:w}else E[h]=w;break;case"username":case"password":E[h]=encodeURIComponent(w);break;case"auth":var N=w.indexOf(":");~N?(E.username=w.slice(0,N),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=w.slice(N+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(w))}for(var S=0;S<d.length;S++){var R=d[S];R[4]&&(E[R[1]]=E[R[1]].toLowerCase())}return E.auth=E.password?E.username+":"+E.password:E.username,E.origin=E.protocol!=="file:"&&g(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString(),E}function x(h){(!h||typeof h!="function")&&(h=t.stringify);var w,b=this,E=b.host,k=b.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var N=k+(b.protocol&&b.slashes||g(b.protocol)?"//":"");return b.username?(N+=b.username,b.password&&(N+=":"+b.password),N+="@"):b.password?(N+=":"+b.password,N+="@"):b.protocol!=="file:"&&g(b.protocol)&&!E&&b.pathname!=="/"&&(N+="@"),(E[E.length-1]===":"||s.test(b.hostname)&&!b.port)&&(E+=":"),N+=E+b.pathname,w=typeof b.query=="object"?h(b.query):b.query,w&&(N+=w.charAt(0)!=="?"?"?"+w:w),b.hash&&(N+=b.hash),N}return v.prototype={set:m,toString:x},v.extractProtocol=y,v.location=f,v.trimLeft=u,v.qs=t,St=v,St}var Et,fn;function z(){if(fn)return Et;fn=1;var e=Gs();return Et={getOrigin:function(t){if(!t)return null;var r=new e(t);if(r.protocol==="file:")return null;var n=r.port;return n||(n=r.protocol==="https:"?"443":"80"),r.protocol+"//"+r.hostname+":"+n},isOriginEqual:function(t,r){var n=this.getOrigin(t)===this.getOrigin(r);return n},isSchemeEqual:function(t,r){return t.split(":")[0]===r.split(":")[0]},addPath:function(t,r){var n=t.split("?");return n[0]+r+(n[1]?"?"+n[1]:"")},addQuery:function(t,r){return t+(t.indexOf("?")===-1?"?"+r:"&"+r)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},Et}var We={exports:{}},hn;function A(){return hn||(hn=1,typeof Object.create=="function"?We.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:We.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),We.exports}var Ct={},Nt,pn;function Bs(){if(pn)return Nt;pn=1;function e(){this._listeners={}}return e.prototype.addEventListener=function(t,r){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];n.indexOf(r)===-1&&(n=n.concat([r])),this._listeners[t]=n},e.prototype.removeEventListener=function(t,r){var n=this._listeners[t];if(n){var o=n.indexOf(r);if(o!==-1){n.length>1?this._listeners[t]=n.slice(0,o).concat(n.slice(o+1)):delete this._listeners[t];return}}},e.prototype.dispatchEvent=function(){var t=arguments[0],r=t.type,n=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+r]&&this["on"+r].apply(this,n),r in this._listeners)for(var o=this._listeners[r],s=0;s<o.length;s++)o[s].apply(this,n)},Nt=e,Nt}var mn;function B(){if(mn)return Ct;mn=1;var e=A(),t=Bs();function r(){t.call(this)}return e(r,t),r.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},r.prototype.once=function(n,o){var s=this,i=!1;function a(){s.removeListener(n,a),i||(i=!0,o.apply(this,arguments))}this.on(n,a)},r.prototype.emit=function(){var n=arguments[0],o=this._listeners[n];if(o){for(var s=arguments.length,i=new Array(s-1),a=1;a<s;a++)i[a-1]=arguments[a];for(var u=0;u<o.length;u++)o[u].apply(this,i)}},r.prototype.on=r.prototype.addListener=t.prototype.addEventListener,r.prototype.removeListener=t.prototype.removeEventListener,Ct.EventEmitter=r,Ct}var ze={exports:{}},vn;function kl(){if(vn)return ze.exports;vn=1;var e=globalThis.WebSocket||globalThis.MozWebSocket;return e?ze.exports=function(r){return new e(r)}:ze.exports=void 0,ze.exports}var jt,gn;function Il(){if(gn)return jt;gn=1;var e=oe(),t=z(),r=A(),n=B().EventEmitter,o=kl(),s=function(){};function i(a,u,d){if(!i.enabled())throw new Error("Transport created when disabled");n.call(this);var l=this,f=t.addPath(a,"/websocket");f.slice(0,5)==="https"?f="wss"+f.slice(5):f="ws"+f.slice(4),this.url=f,this.ws=new o(this.url,[],d),this.ws.onmessage=function(g){s("message event",g.data),l.emit("message",g.data)},this.unloadRef=e.unloadAdd(function(){l.ws.close()}),this.ws.onclose=function(g){s("close event",g.code,g.reason),l.emit("close",g.code,g.reason),l._cleanup()},this.ws.onerror=function(g){l.emit("close",1006,"WebSocket connection broken"),l._cleanup()}}return r(i,n),i.prototype.send=function(a){var u="["+a+"]";this.ws.send(u)},i.prototype.close=function(){var a=this.ws;this._cleanup(),a&&a.close()},i.prototype._cleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return!!o},i.transportName="websocket",i.roundTrips=2,jt=i,jt}var Tt,bn;function _l(){if(bn)return Tt;bn=1;var e=A(),t=B().EventEmitter,r=function(){};function n(o,s){t.call(this),this.sendBuffer=[],this.sender=s,this.url=o}return e(n,t),n.prototype.send=function(o){this.sendBuffer.push(o),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var o=this,s;this.sendStop=function(){o.sendStop=null,clearTimeout(s)},s=setTimeout(function(){o.sendStop=null,o.sendSchedule()},25)},n.prototype.sendSchedule=function(){r("sendSchedule",this.sendBuffer.length);var o=this;if(this.sendBuffer.length>0){var s="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,s,function(i){o.sendStop=null,i?(o.emit("close",i.code||1006,"Sending error: "+i),o.close()):o.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Tt=n,Tt}var Rt,yn;function Pl(){if(yn)return Rt;yn=1;var e=A(),t=B().EventEmitter,r=function(){};function n(o,s,i){t.call(this),this.Receiver=o,this.receiveUrl=s,this.AjaxObject=i,this._scheduleReceiver()}return e(n,t),n.prototype._scheduleReceiver=function(){var o=this,s=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);s.on("message",function(i){o.emit("message",i)}),s.once("close",function(i,a){r("close",i,a,o.pollIsClosing),o.poll=s=null,o.pollIsClosing||(a==="network"?o._scheduleReceiver():(o.emit("close",i||1006,a),o.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Rt=n,Rt}var kt,xn;function Ws(){if(xn)return kt;xn=1;var e=A(),t=z(),r=_l(),n=Pl();function o(s,i,a,u,d){var l=t.addPath(s,i),f=this;r.call(this,s,a),this.poll=new n(u,l,d),this.poll.on("message",function(g){f.emit("message",g)}),this.poll.once("close",function(g,y){f.poll=null,f.emit("close",g,y),f.close()})}return e(o,r),o.prototype.close=function(){r.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},kt=o,kt}var It,wn;function be(){if(wn)return It;wn=1;var e=A(),t=z(),r=Ws();function n(s){return function(i,a,u){var d={};typeof a=="string"&&(d.headers={"Content-type":"text/plain"});var l=t.addPath(i,"/xhr_send"),f=new s("POST",l,a,d);return f.once("finish",function(g){if(f=null,g!==200&&g!==204)return u(new Error("http status "+g));u()}),function(){f.close(),f=null;var g=new Error("Aborted");g.code=1e3,u(g)}}}function o(s,i,a,u){r.call(this,s,i,n(u),a,u)}return e(o,r),It=o,It}var _t,Sn;function it(){if(Sn)return _t;Sn=1;var e=A(),t=B().EventEmitter;function r(n,o){t.call(this);var s=this;this.bufferPosition=0,this.xo=new o("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,a){s._chunkHandler(i,a),s.xo=null;var u=i===200?"network":"permanent";s.emit("close",null,u),s._cleanup()})}return e(r,t),r.prototype._chunkHandler=function(n,o){if(!(n!==200||!o))for(var s=-1;;this.bufferPosition+=s+1){var i=o.slice(this.bufferPosition);if(s=i.indexOf(`
`),s===-1)break;var a=i.slice(0,s);a&&this.emit("message",a)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},_t=r,_t}var Pt,En;function zs(){if(En)return Pt;En=1;var e=B().EventEmitter,t=A(),r=oe(),n=z(),o=globalThis.XMLHttpRequest,s=function(){};function i(d,l,f,g){var y=this;e.call(this),setTimeout(function(){y._start(d,l,f,g)},0)}t(i,e),i.prototype._start=function(d,l,f,g){var y=this;try{this.xhr=new o}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}l=n.addQuery(l,"t="+ +new Date),this.unloadRef=r.unloadAdd(function(){y._cleanup(!0)});try{this.xhr.open(d,l,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){s("xhr timeout"),y.emit("finish",0,""),y._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!g||!g.noCredentials)&&i.supportsCORS&&(this.xhr.withCredentials=!0),g&&g.headers)for(var C in g.headers)this.xhr.setRequestHeader(C,g.headers[C]);this.xhr.onreadystatechange=function(){if(y.xhr){var v=y.xhr,m,x;switch(s("readyState",v.readyState),v.readyState){case 3:try{x=v.status,m=v.responseText}catch{}x===1223&&(x=204),x===200&&m&&m.length>0&&y.emit("chunk",x,m);break;case 4:x=v.status,x===1223&&(x=204),(x===12005||x===12029)&&(x=0),s("finish",x,v.responseText),y.emit("finish",x,v.responseText),y._cleanup(!1);break}}};try{y.xhr.send(f)}catch{y.emit("finish",0,""),y._cleanup(!1)}},i.prototype._cleanup=function(d){if(this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),d)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},i.prototype.close=function(){this._cleanup(!0)},i.enabled=!!o;var a=["Active"].concat("Object").join("X");!i.enabled&&a in globalThis&&(o=function(){try{return new globalThis[a]("Microsoft.XMLHTTP")}catch{return null}},i.enabled=!!new o);var u=!1;try{u="withCredentials"in new o}catch{}return i.supportsCORS=u,Pt=i,Pt}var Ot,Cn;function at(){if(Cn)return Ot;Cn=1;var e=A(),t=zs();function r(n,o,s,i){t.call(this,n,o,s,i)}return e(r,t),r.enabled=t.enabled&&t.supportsCORS,Ot=r,Ot}var At,Nn;function _e(){if(Nn)return At;Nn=1;var e=A(),t=zs();function r(n,o,s){t.call(this,n,o,s,{noCredentials:!0})}return e(r,t),r.enabled=t.enabled,At=r,At}var Mt,jn;function Pe(){return jn||(jn=1,Mt={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),Mt}var Dt,Tn;function Ol(){if(Tn)return Dt;Tn=1;var e=A(),t=be(),r=it(),n=at(),o=_e(),s=Pe();function i(a){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");t.call(this,a,"/xhr_streaming",r,n)}return e(i,t),i.enabled=function(a){return a.nullOrigin||s.isOpera()?!1:n.enabled},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!globalThis.document,Dt=i,Dt}var Lt,Rn;function Ar(){if(Rn)return Lt;Rn=1;var e=B().EventEmitter,t=A(),r=oe(),n=Pe(),o=z(),s=function(){};function i(a,u,d){var l=this;e.call(this),setTimeout(function(){l._start(a,u,d)},0)}return t(i,e),i.prototype._start=function(a,u,d){var l=this,f=new globalThis.XDomainRequest;u=o.addQuery(u,"t="+ +new Date),f.onerror=function(){l._error()},f.ontimeout=function(){l._error()},f.onprogress=function(){s("progress",f.responseText),l.emit("chunk",200,f.responseText)},f.onload=function(){l.emit("finish",200,f.responseText),l._cleanup(!1)},this.xdr=f,this.unloadRef=r.unloadAdd(function(){l._cleanup(!0)});try{this.xdr.open(a,u),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(d)}catch{this._error()}},i.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},i.prototype._cleanup=function(a){if(this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},i.prototype.close=function(){this._cleanup(!0)},i.enabled=!!(globalThis.XDomainRequest&&n.hasDomain()),Lt=i,Lt}var qt,kn;function $s(){if(kn)return qt;kn=1;var e=A(),t=be(),r=it(),n=Ar();function o(s){if(!n.enabled)throw new Error("Transport created when disabled");t.call(this,s,"/xhr_streaming",r,n)}return e(o,t),o.enabled=function(s){return s.cookie_needed||s.nullOrigin?!1:n.enabled&&s.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,qt=o,qt}var Ft,In;function Hs(){return In||(In=1,Ft=globalThis.EventSource),Ft}var Ut,_n;function Al(){if(_n)return Ut;_n=1;var e=A(),t=B().EventEmitter,r=Hs(),n=function(){};function o(s){t.call(this);var i=this,a=this.es=new r(s);a.onmessage=function(u){n("message",u.data),i.emit("message",decodeURI(u.data))},a.onerror=function(u){n("error",a.readyState);var d=a.readyState!==2?"network":"permanent";i._cleanup(),i._close(d)}}return e(o,t),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var s=this.es;s&&(s.onmessage=s.onerror=null,s.close(),this.es=null)},o.prototype._close=function(s){var i=this;setTimeout(function(){i.emit("close",null,s),i.removeAllListeners()},200)},Ut=o,Ut}var Gt,Pn;function On(){if(Pn)return Gt;Pn=1;var e=A(),t=be(),r=Al(),n=at(),o=Hs();function s(i){if(!s.enabled())throw new Error("Transport created when disabled");t.call(this,i,"/eventsource",r,n)}return e(s,t),s.enabled=function(){return!!o},s.transportName="eventsource",s.roundTrips=2,Gt=s,Gt}var Bt,An;function Xs(){return An||(An=1,Bt="1.6.1"),Bt}var Wt={exports:{}},Mn;function Oe(){return Mn||(Mn=1,(function(e){var t=oe(),r=Pe();e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(n,o){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:o||""}),"*")},createIframe:function(n,o){var s=globalThis.document.createElement("iframe"),i,a,u=function(){clearTimeout(i);try{s.onload=null}catch{}s.onerror=null},d=function(){s&&(u(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),t.unloadDel(a))},l=function(g){s&&(d(),o(g))},f=function(g,y){setTimeout(function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(g,y)}catch{}},0)};return s.src=n,s.style.display="none",s.style.position="absolute",s.onerror=function(){l("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},globalThis.document.body.appendChild(s),i=setTimeout(function(){l("timeout")},15e3),a=t.unloadAdd(d),{post:f,cleanup:d,loaded:u}},createHtmlfile:function(n,o){var s=["Active"].concat("Object").join("X"),i=new globalThis[s]("htmlfile"),a,u,d,l=function(){clearTimeout(a),d.onerror=null},f=function(){i&&(l(),t.unloadDel(u),d.parentNode.removeChild(d),d=i=null,CollectGarbage())},g=function(v){i&&(f(),o(v))},y=function(v,m){try{setTimeout(function(){d&&d.contentWindow&&d.contentWindow.postMessage(v,m)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var C=i.createElement("div");return i.body.appendChild(C),d=i.createElement("iframe"),C.appendChild(d),d.src=n,d.onerror=function(){g("onerror")},a=setTimeout(function(){g("timeout")},15e3),u=t.unloadAdd(f),{post:y,cleanup:f,loaded:l}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(Wt)),Wt.exports}var zt,Dn;function Js(){if(Dn)return zt;Dn=1;var e=A(),t=B().EventEmitter,r=Xs(),n=z(),o=Oe(),s=oe(),i=ge(),a=function(){};function u(d,l,f){if(!u.enabled())throw new Error("Transport created when disabled");t.call(this);var g=this;this.origin=n.getOrigin(f),this.baseUrl=f,this.transUrl=l,this.transport=d,this.windowId=i.string(8);var y=n.addPath(f,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(y,function(C){g.emit("close",1006,"Unable to load an iframe ("+C+")"),g.close()}),this.onmessageCallback=this._message.bind(this),s.attachEvent("message",this.onmessageCallback)}return e(u,t),u.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){s.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(d){if(a("message",d.data),!n.isOriginEqual(d.origin,this.origin)){a("not same origin",d.origin,this.origin);return}var l;try{l=JSON.parse(d.data)}catch{a("bad json",d.data);return}if(l.windowId!==this.windowId){a("mismatched window id",l.windowId,this.windowId);return}switch(l.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([r,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",l.data);break;case"c":var f;try{f=JSON.parse(l.data)}catch{a("bad json",l.data);return}this.emit("close",f[0],f[1]),this.close();break}},u.prototype.postMessage=function(d,l){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:d,data:l||""}),this.origin)},u.prototype.send=function(d){this.postMessage("m",d)},u.enabled=function(){return o.iframeEnabled},u.transportName="iframe",u.roundTrips=2,zt=u,zt}var $t,Ln;function Mr(){return Ln||(Ln=1,$t={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}}),$t}var Ht,qn;function Xt(){if(qn)return Ht;qn=1;var e=A(),t=Js(),r=Mr();return Ht=function(n){function o(s,i){t.call(this,n.transportName,s,i)}return e(o,t),o.enabled=function(s,i){if(!globalThis.document)return!1;var a=r.extend({},i);return a.sameOrigin=!0,n.enabled(a)&&t.enabled()},o.transportName="iframe-"+n.transportName,o.needBody=!0,o.roundTrips=t.roundTrips+n.roundTrips-1,o.facadeTransport=n,o},Ht}var Jt,Fn;function Ml(){if(Fn)return Jt;Fn=1;var e=A(),t=Oe(),r=z(),n=B().EventEmitter,o=ge(),s=function(){};function i(u){n.call(this);var d=this;t.polluteGlobalNamespace(),this.id="a"+o.string(6),u=r.addQuery(u,"c="+decodeURIComponent(t.WPrefix+"."+this.id)),s("using htmlfile",i.htmlfileEnabled);var l=i.htmlfileEnabled?t.createHtmlfile:t.createIframe;globalThis[t.WPrefix][this.id]={start:function(){d.iframeObj.loaded()},message:function(f){d.emit("message",f)},stop:function(){d._cleanup(),d._close("network")}},this.iframeObj=l(u,function(){d._cleanup(),d._close("permanent")})}e(i,n),i.prototype.abort=function(){this._cleanup(),this._close("user")},i.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[t.WPrefix][this.id]},i.prototype._close=function(u){this.emit("close",null,u),this.removeAllListeners()},i.htmlfileEnabled=!1;var a=["Active"].concat("Object").join("X");if(a in globalThis)try{i.htmlfileEnabled=!!new globalThis[a]("htmlfile")}catch{}return i.enabled=i.htmlfileEnabled||t.iframeEnabled,Jt=i,Jt}var Vt,Un;function Gn(){if(Un)return Vt;Un=1;var e=A(),t=Ml(),r=_e(),n=be();function o(s){if(!t.enabled)throw new Error("Transport created when disabled");n.call(this,s,"/htmlfile",t,r)}return e(o,n),o.enabled=function(s){return t.enabled&&s.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,Vt=o,Vt}var Kt,Bn;function Wn(){if(Bn)return Kt;Bn=1;var e=A(),t=be(),r=it(),n=at(),o=_e();function s(i){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");t.call(this,i,"/xhr",r,n)}return e(s,t),s.enabled=function(i){return i.nullOrigin?!1:o.enabled&&i.sameOrigin?!0:n.enabled},s.transportName="xhr-polling",s.roundTrips=2,Kt=s,Kt}var Qt,zn;function Dl(){if(zn)return Qt;zn=1;var e=A(),t=be(),r=$s(),n=it(),o=Ar();function s(i){if(!o.enabled)throw new Error("Transport created when disabled");t.call(this,i,"/xhr",n,o)}return e(s,t),s.enabled=r.enabled,s.transportName="xdr-polling",s.roundTrips=2,Qt=s,Qt}var Yt,$n;function Ll(){if($n)return Yt;$n=1;var e=Oe(),t=ge(),r=Pe(),n=z(),o=A(),s=B().EventEmitter,i=function(){};function a(u){var d=this;s.call(this),e.polluteGlobalNamespace(),this.id="a"+t.string(6);var l=n.addQuery(u,"c="+encodeURIComponent(e.WPrefix+"."+this.id));globalThis[e.WPrefix][this.id]=this._callback.bind(this),this._createScript(l),this.timeoutId=setTimeout(function(){d._abort(new Error("JSONP script loaded abnormally (timeout)"))},a.timeout)}return o(a,s),a.prototype.abort=function(){if(globalThis[e.WPrefix][this.id]){var u=new Error("JSONP user aborted read");u.code=1e3,this._abort(u)}},a.timeout=35e3,a.scriptErrorTimeout=1e3,a.prototype._callback=function(u){this._cleanup(),!this.aborting&&(u&&this.emit("message",u),this.emit("close",null,"network"),this.removeAllListeners())},a.prototype._abort=function(u){this._cleanup(),this.aborting=!0,this.emit("close",u.code,u.message),this.removeAllListeners()},a.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var u=this.script;u.parentNode.removeChild(u),u.onreadystatechange=u.onerror=u.onload=u.onclick=null,this.script=null}delete globalThis[e.WPrefix][this.id]},a.prototype._scriptError=function(){var u=this;this.errorTimer||(this.errorTimer=setTimeout(function(){u.loadedOkay||u._abort(new Error("JSONP script loaded abnormally (onerror)"))},a.scriptErrorTimeout))},a.prototype._createScript=function(u){var d=this,l=this.script=globalThis.document.createElement("script"),f;if(l.id="a"+t.string(8),l.src=u,l.type="text/javascript",l.charset="UTF-8",l.onerror=this._scriptError.bind(this),l.onload=function(){d._abort(new Error("JSONP script loaded abnormally (onload)"))},l.onreadystatechange=function(){if(i("onreadystatechange",l.readyState),/loaded|closed/.test(l.readyState)){if(l&&l.htmlFor&&l.onclick){d.loadedOkay=!0;try{l.onclick()}catch{}}l&&d._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof l.async>"u"&&globalThis.document.attachEvent)if(r.isOpera())f=this.script2=globalThis.document.createElement("script"),f.text="try{var a = document.getElementById('"+l.id+"'); if(a)a.onerror();}catch(x){};",l.async=f.async=!1;else{try{l.htmlFor=l.id,l.event="onclick"}catch{}l.async=!0}typeof l.async<"u"&&(l.async=!0);var g=globalThis.document.getElementsByTagName("head")[0];g.insertBefore(l,g.firstChild),f&&g.insertBefore(f,g.firstChild)},Yt=a,Yt}var Zt,Hn;function ql(){if(Hn)return Zt;Hn=1;var e=ge(),t=z(),r=function(){},n,o;function s(a){try{return globalThis.document.createElement('<iframe name="'+a+'">')}catch{var u=globalThis.document.createElement("iframe");return u.name=a,u}}function i(){n=globalThis.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",o=globalThis.document.createElement("textarea"),o.name="d",n.appendChild(o),globalThis.document.body.appendChild(n)}return Zt=function(a,u,d){n||i();var l="a"+e.string(8);n.target=l,n.action=t.addQuery(t.addPath(a,"/jsonp_send"),"i="+l);var f=s(l);f.id=l,f.style.display="none",n.appendChild(f);try{o.value=u}catch{}n.submit();var g=function(y){f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout(function(){f.parentNode.removeChild(f),f=null},500),o.value="",d(y))};return f.onerror=function(){g()},f.onload=function(){g()},f.onreadystatechange=function(y){r("onreadystatechange",l,f.readyState),f.readyState==="complete"&&g()},function(){g(new Error("Aborted"))}},Zt}var er,Xn;function Fl(){if(Xn)return er;Xn=1;var e=A(),t=Ws(),r=Ll(),n=ql();function o(s){if(!o.enabled())throw new Error("Transport created when disabled");t.call(this,s,"/jsonp",n,r)}return e(o,t),o.enabled=function(){return!!globalThis.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,er=o,er}var tr,Jn;function Ul(){return Jn||(Jn=1,tr=[Il(),Ol(),$s(),On(),Xt()(On()),Gn(),Xt()(Gn()),Wn(),Dl(),Xt()(Wn()),Fl()]),tr}var Vn={},Kn;function Gl(){if(Kn)return Vn;Kn=1;var e=Array.prototype,t=Object.prototype,r=Function.prototype,n=String.prototype,o=e.slice,s=t.toString,i=function(N){return t.toString.call(N)==="[object Function]"},a=function(S){return s.call(S)==="[object Array]"},u=function(S){return s.call(S)==="[object String]"},d=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),l;d?l=function(N,S,R,I){!I&&S in N||Object.defineProperty(N,S,{configurable:!0,enumerable:!1,writable:!0,value:R})}:l=function(N,S,R,I){!I&&S in N||(N[S]=R)};var f=function(N,S,R){for(var I in S)t.hasOwnProperty.call(S,I)&&l(N,I,S[I],R)},g=function(N){if(N==null)throw new TypeError("can't convert "+N+" to object");return Object(N)};function y(N){var S=+N;return S!==S?S=0:S!==0&&S!==1/0&&S!==-1/0&&(S=(S>0||-1)*Math.floor(Math.abs(S))),S}function C(N){return N>>>0}function v(){}f(r,{bind:function(S){var R=this;if(!i(R))throw new TypeError("Function.prototype.bind called on incompatible "+R);for(var I=o.call(arguments,1),P=function(){if(this instanceof _){var M=R.apply(this,I.concat(o.call(arguments)));return Object(M)===M?M:this}else return R.apply(S,I.concat(o.call(arguments)))},T=Math.max(0,R.length-I.length),j=[],D=0;D<T;D++)j.push("$"+D);var _=Function("binder","return function ("+j.join(",")+"){ return binder.apply(this, arguments); }")(P);return R.prototype&&(v.prototype=R.prototype,_.prototype=new v,v.prototype=null),_}}),f(Array,{isArray:a});var m=Object("a"),x=m[0]!=="a"||!(0 in m),h=function(S){var R=!0,I=!0;return S&&(S.call("foo",function(P,T,j){typeof j!="object"&&(R=!1)}),S.call([1],function(){I=typeof this=="string"},"x")),!!S&&R&&I};f(e,{forEach:function(S){var R=g(this),I=x&&u(this)?this.split(""):R,P=arguments[1],T=-1,j=I.length>>>0;if(!i(S))throw new TypeError;for(;++T<j;)T in I&&S.call(P,I[T],T,R)}},!h(e.forEach));var w=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;f(e,{indexOf:function(S){var R=x&&u(this)?this.split(""):g(this),I=R.length>>>0;if(!I)return-1;var P=0;for(arguments.length>1&&(P=y(arguments[1])),P=P>=0?P:Math.max(0,I+P);P<I;P++)if(P in R&&R[P]===S)return P;return-1}},w);var b=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var N=/()??/.exec("")[1]===void 0;n.split=function(S,R){var I=this;if(S===void 0&&R===0)return[];if(s.call(S)!=="[object RegExp]")return b.call(this,S,R);var P=[],T=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.extended?"x":"")+(S.sticky?"y":""),j=0,D,_,M,ye;for(S=new RegExp(S.source,T+"g"),I+="",N||(D=new RegExp("^"+S.source+"$(?!\\s)",T)),R=R===void 0?-1>>>0:C(R);(_=S.exec(I))&&(M=_.index+_[0].length,!(M>j&&(P.push(I.slice(j,_.index)),!N&&_.length>1&&_[0].replace(D,function(){for(var K=1;K<arguments.length-2;K++)arguments[K]===void 0&&(_[K]=void 0)}),_.length>1&&_.index<I.length&&e.push.apply(P,_.slice(1)),ye=_[0].length,j=M,P.length>=R)));)S.lastIndex===_.index&&S.lastIndex++;return j===I.length?(ye||!S.test(""))&&P.push(""):P.push(I.slice(j)),P.length>R?P.slice(0,R):P}})():"0".split(void 0,0).length&&(n.split=function(S,R){return S===void 0&&R===0?[]:b.call(this,S,R)});var E=n.substr,k="".substr&&"0b".substr(-1)!=="b";return f(n,{substr:function(S,R){return E.call(this,S<0&&(S=this.length+S)<0?0:S,R)}},k),Vn}var rr,Qn;function Bl(){if(Qn)return rr;Qn=1;var e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,t,r=function(n){var o,s={},i=[];for(o=0;o<65536;o++)i.push(String.fromCharCode(o));return n.lastIndex=0,i.join("").replace(n,function(a){return s[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,s};return rr={quote:function(n){var o=JSON.stringify(n);return e.lastIndex=0,e.test(o)?(t||(t=r(e)),o.replace(e,function(s){return t[s]})):o}},rr}var nr,Yn;function Wl(){if(Yn)return nr;Yn=1;var e=function(){};return nr=function(t){return{filterToEnabled:function(r,n){var o={main:[],facade:[]};return r?typeof r=="string"&&(r=[r]):r=[],t.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(r.length&&r.indexOf(s.transportName)===-1){e("not in whitelist",s.transportName);return}s.enabled(n)?(e("enabled",s.transportName),o.main.push(s),s.facadeTransport&&o.facade.push(s.facadeTransport)):e("disabled",s.transportName)}}),o}}},nr}var or,Zn;function zl(){if(Zn)return or;Zn=1;var e={};return["log","debug","warn"].forEach(function(t){var r;try{r=globalThis.console&&globalThis.console[t]&&globalThis.console[t].apply}catch{}e[t]=r?function(){return globalThis.console[t].apply(globalThis.console,arguments)}:t==="log"?function(){}:e.log}),or=e,or}var sr,eo;function Dr(){if(eo)return sr;eo=1;function e(t){this.type=t}return e.prototype.initEvent=function(t,r,n){return this.type=t,this.bubbles=r,this.cancelable=n,this.timeStamp=+new Date,this},e.prototype.stopPropagation=function(){},e.prototype.preventDefault=function(){},e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,sr=e,sr}var ir,to;function Vs(){return to||(to=1,ir=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),ir}var ar,ro;function $l(){if(ro)return ar;ro=1;var e=A(),t=Dr();function r(){t.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return e(r,t),ar=r,ar}var cr,no;function Hl(){if(no)return cr;no=1;var e=A(),t=Dr();function r(n){t.call(this),this.initEvent("message",!1,!1),this.data=n}return e(r,t),cr=r,cr}var lr,oo;function Xl(){if(oo)return lr;oo=1;var e=B().EventEmitter,t=A();function r(){var n=this;e.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},r.timeout)}return t(r,e),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,lr=r,lr}var ur,so;function Ks(){if(so)return ur;so=1;var e=B().EventEmitter,t=A(),r=Mr();function n(o,s){e.call(this);var i=this,a=+new Date;this.xo=new s("GET",o),this.xo.once("finish",function(u,d){var l,f;if(u===200){if(f=+new Date-a,d)try{l=JSON.parse(d)}catch{}r.isObject(l)||(l={})}i.emit("finish",l,f),i.removeAllListeners()})}return t(n,e),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ur=n,ur}var dr,io;function Qs(){if(io)return dr;io=1;var e=A(),t=B().EventEmitter,r=_e(),n=Ks();function o(s){var i=this;t.call(this),this.ir=new n(s,r),this.ir.once("finish",function(a,u){i.ir=null,i.emit("message",JSON.stringify([a,u]))})}return e(o,t),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},dr=o,dr}var fr,ao;function Jl(){if(ao)return fr;ao=1;var e=B().EventEmitter,t=A(),r=oe(),n=Js(),o=Qs();function s(i,a){var u=this;e.call(this);var d=function(){var l=u.ifr=new n(o.transportName,a,i);l.once("message",function(f){if(f){var g;try{g=JSON.parse(f)}catch{u.emit("finish"),u.close();return}var y=g[0],C=g[1];u.emit("finish",y,C)}u.close()}),l.once("close",function(){u.emit("finish"),u.close()})};globalThis.document.body?d():r.attachEvent("load",d)}return t(s,e),s.enabled=function(){return n.enabled()},s.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},fr=s,fr}var hr,co;function Vl(){if(co)return hr;co=1;var e=B().EventEmitter,t=A(),r=z(),n=Ar(),o=at(),s=_e(),i=Xl(),a=Jl(),u=Ks();function d(l,f){var g=this;e.call(this),setTimeout(function(){g.doXhr(l,f)},0)}return t(d,e),d._getReceiver=function(l,f,g){return g.sameOrigin?new u(f,s):o.enabled?new u(f,o):n.enabled&&g.sameScheme?new u(f,n):a.enabled()?new a(l,f):new u(f,i)},d.prototype.doXhr=function(l,f){var g=this,y=r.addPath(l,"/info");this.xo=d._getReceiver(l,y,f),this.timeoutRef=setTimeout(function(){g._cleanup(!1),g.emit("finish")},d.timeout),this.xo.once("finish",function(C,v){g._cleanup(!0),g.emit("finish",C,v)})},d.prototype._cleanup=function(l){clearTimeout(this.timeoutRef),this.timeoutRef=null,!l&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,hr=d,hr}var pr,lo;function Kl(){if(lo)return pr;lo=1;var e=Oe();function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},pr=t,pr}var mr,uo;function Ql(){if(uo)return mr;uo=1;var e=z(),t=oe(),r=Kl(),n=Qs(),o=Oe(),s=Vs(),i=function(){};return mr=function(a,u){var d={};u.forEach(function(f){f.facadeTransport&&(d[f.facadeTransport.transportName]=f.facadeTransport)}),d[n.transportName]=n;var l;a.bootstrap_iframe=function(){var f;o.currentWindowId=s.hash.slice(1);var g=function(y){if(y.source===parent&&(typeof l>"u"&&(l=y.origin),y.origin===l)){var C;try{C=JSON.parse(y.data)}catch{i("bad json",y.data);return}if(C.windowId===o.currentWindowId)switch(C.type){case"s":var v;try{v=JSON.parse(C.data)}catch{i("bad json",C.data);break}var m=v[0],x=v[1],h=v[2],w=v[3];if(m!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+m+'", the iframe: "'+a.version+'".');if(!e.isOriginEqual(h,s.href)||!e.isOriginEqual(w,s.href))throw new Error("Can't connect to different domain from within an iframe. ("+s.href+", "+h+", "+w+")");f=new r(new d[x](h,w));break;case"m":f._send(C.data);break;case"c":f&&f._close(),f=null;break}}};t.attachEvent("message",g),o.postMessage("s")}},mr}var vr,fo;function Yl(){if(fo)return vr;fo=1,Gl();var e=Gs(),t=A(),r=ge(),n=Bl(),o=z(),s=oe(),i=Wl(),a=Mr(),u=Pe(),d=zl(),l=Dr(),f=Bs(),g=Vs(),y=$l(),C=Hl(),v=Vl(),m=function(){},x;function h(b,E,k){if(!(this instanceof h))return new h(b,E,k);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");f.call(this),this.readyState=h.CONNECTING,this.extensions="",this.protocol="",k=k||{},k.protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=k.transports,this._transportOptions=k.transportOptions||{},this._timeout=k.timeout||0;var N=k.sessionId||8;if(typeof N=="function")this._generateSessionId=N;else if(typeof N=="number")this._generateSessionId=function(){return r.string(N)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=k.server||r.numberString(1e3);var S=new e(b);if(!S.host||!S.protocol)throw new SyntaxError("The URL '"+b+"' is invalid");if(S.hash)throw new SyntaxError("The URL must not contain a fragment");if(S.protocol!=="http:"&&S.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+S.protocol+"' is not allowed.");var R=S.protocol==="https:";if(g.protocol==="https:"&&!R&&!o.isLoopbackAddr(S.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");E?Array.isArray(E)||(E=[E]):E=[];var I=E.sort();I.forEach(function(T,j){if(!T)throw new SyntaxError("The protocols entry '"+T+"' is invalid.");if(j<I.length-1&&T===I[j+1])throw new SyntaxError("The protocols entry '"+T+"' is duplicated.")});var P=o.getOrigin(g.href);this._origin=P?P.toLowerCase():null,S.set("pathname",S.pathname.replace(/\/+$/,"")),this.url=S.href,m("using url",this.url),this._urlInfo={nullOrigin:!u.hasDomain(),sameOrigin:o.isOriginEqual(this.url,g.href),sameScheme:o.isSchemeEqual(this.url,g.href)},this._ir=new v(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}t(h,f);function w(b){return b===1e3||b>=3e3&&b<=4999}return h.prototype.close=function(b,E){if(b&&!w(b))throw new Error("InvalidAccessError: Invalid code");if(E&&E.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===h.CLOSING||this.readyState===h.CLOSED)){var k=!0;this._close(b||1e3,E||"Normal closure",k)}},h.prototype.send=function(b){if(typeof b!="string"&&(b=""+b),this.readyState===h.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===h.OPEN&&this._transport.send(n.quote(b))},h.version=Xs(),h.CONNECTING=0,h.OPEN=1,h.CLOSING=2,h.CLOSED=3,h.prototype._receiveInfo=function(b,E){if(this._ir=null,!b){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(E),this._transUrl=b.base_url?b.base_url:this.url,b=a.extend(b,this._urlInfo);var k=x.filterToEnabled(this._transportsWhitelist,b);this._transports=k.main,m(this._transports.length+" enabled transports"),this._connect()},h.prototype._connect=function(){for(var b=this._transports.shift();b;b=this._transports.shift()){if(m("attempt",b.transportName),b.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(b),s.attachEvent("load",this._connect.bind(this));return}var E=Math.max(this._timeout,this._rto*b.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),E);var k=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),N=this._transportOptions[b.transportName],S=new b(k,this._transUrl,N);S.on("message",this._transportMessage.bind(this)),S.once("close",this._transportClose.bind(this)),S.transportName=b.transportName,this._transport=S;return}this._close(2e3,"All transports failed",!1)},h.prototype._transportTimeout=function(){this.readyState===h.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},h.prototype._transportMessage=function(b){var E=this,k=b.slice(0,1),N=b.slice(1),S;switch(k){case"o":this._open();return;case"h":this.dispatchEvent(new l("heartbeat")),m("heartbeat",this.transport);return}if(N)try{S=JSON.parse(N)}catch{}if(!(typeof S>"u"))switch(k){case"a":Array.isArray(S)&&S.forEach(function(R){m("message",E.transport),E.dispatchEvent(new C(R))});break;case"m":m("message",this.transport),this.dispatchEvent(new C(S));break;case"c":Array.isArray(S)&&S.length===2&&this._close(S[0],S[1],!0);break}},h.prototype._transportClose=function(b,E){if(m("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!w(b)&&b!==2e3&&this.readyState===h.CONNECTING){this._connect();return}this._close(b,E)},h.prototype._open=function(){m("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===h.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=h.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new l("open")),m("connected",this.transport)):this._close(1006,"Server lost session")},h.prototype._close=function(b,E,k){m("_close",this.transport,b,E,k,this.readyState);var N=!1;if(this._ir&&(N=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===h.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=h.CLOSING,setTimeout((function(){this.readyState=h.CLOSED,N&&this.dispatchEvent(new l("error"));var S=new y("close");S.wasClean=k||!1,S.code=b||1e3,S.reason=E,this.dispatchEvent(S),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},h.prototype.countRTO=function(b){return b>100?4*b:300+b},vr=function(b){return x=i(b),Ql()(h,b),h},vr}var gr,ho;function Zl(){if(ho)return gr;ho=1;var e=Ul();return gr=Yl()(e),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),gr}var eu=Zl();const tu=vo(eu);let $e=null;const Ys=(e={})=>{const{url:t="http://localhost:8081/ws",reconnectDelay:r=1e3,maxReconnectAttempts:n=5}=e,[o,s]=p.useState(!1),[i,a]=p.useState(null),[u,d]=p.useState(0),l=p.useRef(null),f=p.useRef(null),g=p.useRef(!1),{actions:y}=ie(),C=p.useCallback(()=>{if(l.current?.connected||l.current?.active||g.current)return;g.current=!0;const T=new ui({webSocketFactory:()=>new tu(t),reconnectDelay:r,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,debug:j=>{}});T.onConnect=j=>{s(!0),a(null),d(0),g.current=!1,y.setConnectionStatus(!0),T.subscribe("/topic/gameState",D=>{try{const _=JSON.parse(D.body);h(_)}catch(_){console.error("Error parsing game state:",_)}}),T.publish({destination:"/app/board",body:JSON.stringify({})}),T.subscribe("/topic/training-updates",D=>{try{const _=JSON.parse(D.body);w(_)}catch(_){console.error("Error parsing training update:",_)}}),T.subscribe("/topic/mcp-updates",D=>{try{const _=JSON.parse(D.body);b(_)}catch(_){console.error("Error parsing MCP update:",_)}})},T.onStompError=j=>{console.error("STOMP error:",j),a(`STOMP Error: ${j.headers.message}`),y.setConnectionStatus(!1,j.headers.message)},T.onWebSocketError=j=>{console.error("WebSocket error:",j),a(`WebSocket Error: ${j.message}`),y.setConnectionStatus(!1,j.message)},T.onWebSocketClose=j=>{if(s(!1),g.current=!1,y.setConnectionStatus(!1,"Connection closed"),u<n){const D=r*Math.pow(2,u);f.current=setTimeout(()=>{d(_=>_+1),C()},D)}else a("Max reconnection attempts reached")},l.current=T,T.activate()},[t,r,n,u,y]),v=p.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null),l.current&&(l.current.deactivate(),l.current=null),g.current=!1,s(!1),a(null),d(0),y.setConnectionStatus(!1)},[y]),m=p.useCallback((T,j)=>{l.current?.connected?l.current.publish({destination:T,body:JSON.stringify(j)}):console.warn("WebSocket not connected. Cannot send message:",j)},[]),x=T=>{const j={"♔":{type:"king",color:"white"},"♕":{type:"queen",color:"white"},"♖":{type:"rook",color:"white"},"♗":{type:"bishop",color:"white"},"♘":{type:"knight",color:"white"},"♙":{type:"pawn",color:"white"},"♚":{type:"king",color:"black"},"♛":{type:"queen",color:"black"},"♜":{type:"rook",color:"black"},"♝":{type:"bishop",color:"black"},"♞":{type:"knight",color:"black"},"♟":{type:"pawn",color:"black"}};return T.map(D=>D.map(_=>{if(!_||_.trim()==="")return null;const M=j[_];return M?{type:M.type,color:M.color,hasMoved:!1}:null}))},h=T=>{let j;if(T.success===!1&&$e&&(j=$e,$e=null),T.board){const D=x(T.board),_=[];T.kingInCheck&&_.push([T.kingInCheck[0],T.kingInCheck[1]]),T.threatenedPieces&&T.threatenedPieces.forEach(M=>{M&&M.length>=2&&_.push([M[0],M[1]])}),y.updateBackendGameState({board:D,currentPlayer:T.whiteTurn?"white":"black",gameStatus:T.gameOver?"checkmate":"active",checkSquares:_,invalidMove:j,success:T.success,aiMove:T.aiLastMove?{from:[T.aiLastMove[0],T.aiLastMove[1]],to:[T.aiLastMove[2],T.aiLastMove[3]],aiName:T.lastMoveAI||"AI"}:void 0})}},w=T=>{switch(T.type){case"TRAINING_STARTED":y.startTraining(T.payload.aiSystems);break;case"TRAINING_STOPPED":y.stopTraining();break;case"TRAINING_PROGRESS":y.updateTrainingStatus(T.payload);break;case"AI_STATUS_UPDATE":y.updateAISystem(T.payload.name,T.payload.updates);break}},b=T=>{switch(T.type){case"MCP_STATUS":y.updateMCPStatus(T.payload);break;case"MCP_CONNECTION":y.updateMCPStatus({connected:T.payload.connected});break}},E=p.useCallback((T,j)=>{$e=j,m("/app/move",{fromRow:T[0],fromCol:T[1],toRow:j[0],toCol:j[1]})},[m]),k=p.useCallback(T=>{m("/app/train",{aiSystems:T})},[m]),N=p.useCallback(()=>{m("/app/stop-training",{})},[m]),S=p.useCallback(T=>{m("/app/select-ai",{aiName:T})},[m]),R=p.useCallback(()=>{m("/app/newgame",{})},[m]),I=p.useCallback(()=>{m("/app/undo-move",{})},[m]),P=p.useCallback(()=>{m("/app/redo-move",{})},[m]);return p.useEffect(()=>(C(),()=>{v()}),[]),{isConnected:o,error:i,reconnectAttempts:u,connect:C,disconnect:v,sendMessage:m,makeMove:E,startTraining:k,stopTraining:N,selectAI:S,newGame:R,undoMove:I,redoMove:P}},ru=()=>{const{actions:e}=ie(),{makeMove:t,newGame:r,isConnected:n}=Ys();return p.useEffect(()=>{const o=e.makeMove,s=e.resetGame;return e.makeMove=(i,a)=>{e.selectSquare(void 0),t(i,a)},e.resetGame=()=>{r()},()=>{e.makeMove=o,e.resetGame=s}},[e,t,r]),{isConnected:n,makeMove:e.makeMove,resetGame:e.resetGame}},po=()=>{ie(),ru();const[e,t]=p.useState("game"),[r,n]=p.useState({isOpen:!1,color:"white",position:[0,0]}),o=(a,u)=>{n({isOpen:!0,color:a,position:u})},s=a=>{console.log("Promoting pawn to:",a),n(u=>({...u,isOpen:!1}))},i=()=>{n(a=>({...a,isOpen:!1}))};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(sl,{}),c.jsxs("div",{className:"flex flex-col xl:flex-row min-h-[calc(100vh-4rem)] w-full",children:[c.jsx("div",{className:"xl:w-64 flex-shrink-0",children:c.jsx(il,{})}),c.jsxs("main",{className:"flex-1 flex flex-col xl:flex-row items-center justify-center p-4 gap-12 xl:gap-6 min-w-0",children:[c.jsx("div",{className:"flex-shrink-0 mr-4 xl:mr-0",style:{width:"500px",minWidth:"400px"},children:c.jsx(Ci,{onPawnPromotion:o})}),c.jsx("div",{className:"flex-shrink-0 xl:ml-8",children:c.jsx(Bc,{})})]}),c.jsx("div",{className:"xl:w-80 flex-shrink-0 p-4 space-y-4 overflow-y-auto",children:c.jsxs(Nl,{value:e,onValueChange:a=>t(a),className:"w-full",children:[c.jsxs(Us,{className:"grid w-full grid-cols-2",children:[c.jsx(Er,{value:"game",children:"AI Training"}),c.jsx(Er,{value:"openings",children:"Openings"})]}),c.jsx(Cr,{value:"game",className:"mt-4",children:c.jsx(rl,{})}),c.jsx(Cr,{value:"openings",className:"mt-4",children:c.jsx(ol,{})})]})})]}),c.jsx(nl,{isOpen:r.isOpen,color:r.color,onSelect:s,onCancel:i}),c.jsx(al,{})]})};class Lr extends p.Component{constructor(t){super(t),this.state={hasError:!1,errorType:"unknown"}}static getDerivedStateFromError(t){const r=Lr.categorizeError(t);return{hasError:!0,error:t,errorType:r}}static categorizeError(t){return t.message.includes("AI")||t.message.includes("training")?"ai_system":t.message.includes("WebSocket")||t.message.includes("connection")?"websocket":t.message.includes("move")||t.message.includes("board")?"game_logic":"unknown"}componentDidCatch(t,r){this.setState({errorInfo:r}),console.error("Chess Error Boundary caught an error:",t,r),window.Sentry&&window.Sentry.captureException(t,{contexts:{react:{componentStack:r.componentStack}}})}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-6xl mb-4",children:"♟️"}),c.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:this.getErrorTitle()}),c.jsx("p",{className:"text-gray-600 mb-6",children:this.getErrorMessage()})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload Application"}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 bg-muted text-muted-foreground rounded-md hover:bg-muted/90 transition-colors",children:"Go to Legacy UI"})]}),this.state.error&&c.jsxs("details",{className:"mt-6 text-left",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"Error Details (Development)"}),c.jsxs("pre",{className:"mt-2 p-4 bg-gray-100 dark:bg-gray-800 rounded text-xs overflow-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}getErrorTitle(){switch(this.state.errorType){case"ai_system":return"AI System Error";case"websocket":return"Connection Error";case"game_logic":return"Game Logic Error";default:return"Application Error"}}getErrorMessage(){switch(this.state.errorType){case"ai_system":return"An AI system encountered an error. The game can continue with other AI opponents.";case"websocket":return"Connection to the server was lost. Please check your internet connection.";case"game_logic":return"A game logic error occurred. Please try restarting the game.";default:return"An unexpected error occurred. Please try refreshing the page."}}}const nu=()=>{const[e,t]=p.useState({loadTime:0,bundleSize:0,memoryUsage:0,fps:0,webSocketLatency:0,aiResponseTime:0}),[r,n]=p.useState(!1);p.useEffect(()=>{const i=performance.timing.loadEventEnd-performance.timing.navigationStart;t(C=>({...C,loadTime:i}));const u=performance.getEntriesByType("resource").reduce((C,v)=>C+(v.transferSize||0),0);t(C=>({...C,bundleSize:Math.round(u/1024)}));const d=()=>{if("memory"in performance){const C=performance.memory,v=Math.round(C.usedJSHeapSize/1024/1024);t(m=>({...m,memoryUsage:v}))}};d();const l=setInterval(d,5e3);let f=0,g=performance.now();const y=()=>{f++;const C=performance.now();C-g>=1e3&&(t(v=>({...v,fps:Math.round(f*1e3/(C-g))})),f=0,g=C),requestAnimationFrame(y)};return y(),()=>{clearInterval(l)}},[]);const o=(i,a)=>i<=a.good?"text-green-600":i<=a.warning?"text-yellow-600":"text-red-600",s=(i,a)=>i<=a.good?"Good":i<=a.warning?"Warning":"Poor";return r?c.jsxs("div",{className:"fixed bottom-4 right-4 bg-card border border-border rounded-lg p-4 shadow-lg z-50 min-w-64",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Performance Monitor"}),c.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),c.jsxs("div",{className:"space-y-2 text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Load Time:"}),c.jsxs("span",{className:o(e.loadTime,{good:2e3,warning:3e3}),children:[e.loadTime,"ms (",s(e.loadTime,{good:2e3,warning:3e3}),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Bundle Size:"}),c.jsxs("span",{className:o(e.bundleSize,{good:1024,warning:2048}),children:[e.bundleSize,"KB (",s(e.bundleSize,{good:1024,warning:2048}),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Memory:"}),c.jsxs("span",{className:o(e.memoryUsage,{good:50,warning:100}),children:[e.memoryUsage,"MB (",s(e.memoryUsage,{good:50,warning:100}),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"FPS:"}),c.jsxs("span",{className:o(60-e.fps,{good:0,warning:10}),children:[e.fps," (",s(60-e.fps,{good:0,warning:10}),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"WS Latency:"}),c.jsxs("span",{className:o(e.webSocketLatency,{good:100,warning:200}),children:[e.webSocketLatency,"ms (",s(e.webSocketLatency,{good:100,warning:200}),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"AI Response:"}),c.jsxs("span",{className:o(e.aiResponseTime,{good:1e3,warning:3e3}),children:[e.aiResponseTime,"ms (",s(e.aiResponseTime,{good:1e3,warning:3e3}),")"]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-medium",children:"Overall Score:"}),c.jsx("span",{className:"text-sm font-bold text-green-600",children:"92/100"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:c.jsx("div",{className:"bg-green-600 h-1.5 rounded-full",style:{width:"92%"}})})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{"caches"in window&&caches.keys().then(i=>{i.forEach(a=>caches.delete(a))})},className:"flex-1 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Clear Cache"}),c.jsx("button",{onClick:()=>{window.location.reload()},className:"flex-1 px-2 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Reload"})]})})]}):c.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-4 right-4 bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors z-50",title:"Show Performance Monitor",children:"📊"})},ou=()=>{p.useEffect(()=>{const e=new PerformanceObserver(r=>{for(const n of r.getEntries())n.entryType});return e.observe({entryTypes:["measure"]}),(()=>{performance.getEntriesByName("first-contentful-paint")[0],new PerformanceObserver(s=>{const i=s.getEntries();i[i.length-1]}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(s=>{for(const i of s.getEntries())i.processingStart-i.startTime}).observe({entryTypes:["first-input"]});let o=0;"PerformanceObserver"in window&&"layout-shift"in PerformanceObserver.supportedEntryTypes&&new PerformanceObserver(i=>{for(const a of i.getEntries())a.hadRecentInput||(o+=a.value)}).observe({entryTypes:["layout-shift"]})})(),()=>{e.disconnect()}},[])},su=new ei({defaultOptions:{queries:{staleTime:1e3*60*5,retry:3}}});function iu(){const{isConnected:e,error:t}=Ys();return ou(),c.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[c.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[c.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e?"🟢 Connected":"🔴 Disconnected"}),t&&c.jsx("div",{className:"mt-2 px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded text-sm",children:t})]}),c.jsx(oi,{children:c.jsxs(si,{children:[c.jsx(Fr,{path:"/",element:c.jsx(po,{})}),c.jsx(Fr,{path:"*",element:c.jsx(po,{})})]})}),c.jsx(pi,{}),c.jsx(nu,{})]})}function au(){return c.jsx(Lr,{children:c.jsx(ti,{client:su,children:c.jsx(iu,{})})})}hi.createRoot(document.getElementById("root")).render(c.jsx(Z.StrictMode,{children:c.jsx(au,{})}));
//# sourceMappingURL=index-D8UPb4Mt.js.map
