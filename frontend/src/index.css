@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* Chess-specific styles */
.chess-board {
  @apply grid grid-cols-8 gap-0 border-2 border-gray-800;
}

.chess-square {
  @apply aspect-square flex items-center justify-center text-4xl font-bold cursor-pointer transition-all duration-200;
}

.chess-square.light {
  @apply bg-chess-light;
}

.chess-square.dark {
  @apply bg-chess-dark;
}

/* Selection highlighting */
.chess-square.selected {
  background-color: #ffff00 !important;
}

/* Available moves highlighting */
.chess-square.highlight {
  background-color: #90EE90 !important; /* Light green */
  box-shadow: inset 0 0 0 2px #22c55e; /* green-500 border */
}

/* King in check highlighting */
.chess-square.check {
  border: 4px solid #ef4444 !important; /* red-500 */
  box-sizing: border-box;
}

/* Last move highlighting */
.chess-square.last-move {
  background-color: #fbbf24 !important; /* amber-400 */
  box-shadow: inset 0 0 0 2px #f59e0b; /* amber-500 border */
}

/* AI move blinking animation */
.chess-square.ai-move {
  animation: aiMoveBlink 2s ease-in-out forwards;
}

@keyframes aiMoveBlink {
  0%, 20%, 40%, 60%, 80% {
    border: 4px solid #10b981; /* green-500 */
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.3);
  }
  10%, 30%, 50%, 70%, 90%, 100% {
    border: none;
    box-shadow: none;
  }
}

/* Invalid move blinking animation */
.chess-square.invalid-move {
  animation: invalidMoveBlink 1s ease-in-out;
  z-index: 10;
}

@keyframes invalidMoveBlink {
  0% {
    background-color: #ef4444 !important; /* red-500 */
    transform: scale(1.1);
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5);
  }
  25% {
    background-color: #fca5a5 !important; /* red-300 */
    transform: scale(1.05);
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.3);
  }
  50% {
    background-color: #ef4444 !important; /* red-500 */
    transform: scale(1.1);
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5);
  }
  75% {
    background-color: #fca5a5 !important; /* red-300 */
    transform: scale(1.05);
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.3);
  }
  100% {
    background-color: #ef4444 !important; /* red-500 */
    transform: scale(1);
    box-shadow: none;
  }
}

.chess-piece {
  @apply select-none cursor-pointer transition-transform duration-200;
}

.chess-piece:hover {
  @apply scale-110;
}

.chess-piece.dragging {
  @apply scale-125 z-50;
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(-10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}
